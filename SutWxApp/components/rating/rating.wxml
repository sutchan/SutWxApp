/**
 * 文件名: rating.wxml
 * 版本号: 1.0.0
 * 更新日期: 2025-11-23
 * 描述: rating 页面结构文件
 */
<view class="rating-container">
  <!-- 星星评分 -->
  <view class="rating-stars" style="font-size: {{size}}">
    <block wx:for="{{stars}}" wx:key="index">
      <!-- 支持半星的情况 -->
      <block wx:if="{{allowHalf && !readonly}}">
        <!-- 左半部分 -->
        <view 
          class="star-half" 
          style="margin-right: {{gutter}}"
          data-index="{{item.index}}"
          bindtap="onStarHalfTap"
        >
          <text 
            class="iconfont icon-star-half" 
            style="color: {{item.status === 'full' || item.status === 'half' ? color : voidColor}}"
          ></text>
        </view>
        <!-- 右半部分 -->
        <view 
          class="star-half" 
          data-index="{{item.index}}"
          bindtap="onStarTap"
        >
          <text 
            class="iconfont icon-star-half" 
            style="color: {{item.status === 'full' ? color : voidColor}}; transform: scaleX(-1)"
          ></text>
        </view>
      </block>
      
      <!-- 不支持半星或只读模式 -->
      <block wx:else>
        <view 
          class="star" 
          style="margin-right: {{gutter}}"
          data-index="{{item.index}}"
          bindtap="{{readonly ? '' : 'onStarTap'}}"
        >
          <text 
            wx:if="{{item.status === 'full'}}"
            class="iconfont icon-star-fill" 
            style="color: {{color}}"
          ></text>
          <text 
            wx:elif="{{item.status === 'half' && allowHalf}}"
            class="iconfont icon-star-half" 
            style="color: {{color}}"
          ></text>
          <text 
            wx:else
            class="iconfont icon-star" 
            style="color: {{voidColor}}"
          ></text>
        </view>
      </block>
    </block>
  </view>
  
  <!-- 分数文本 -->
  <view class="rating-score" wx:if="{{showScore}}">
    {{scoreText.replace('{value}', value)}}
  </view>
</view>