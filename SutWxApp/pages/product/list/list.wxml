锘?!-- 閸熷棗鎼ч崚妤勩€冩い鐢告桨 -->
<view class="container">
  <!-- 閹兼粎鍌ㄩ弽?-->
  <view class="search-bar">
    <view class="search-input-wrapper">
      <icon class="search-icon" type="search" size="16"></icon>
      <input 
        class="search-input" 
        placeholder="閹兼粎鍌ㄩ崯鍡楁惂" 
        value="{{keyword}}" 
        bindconfirm="onSearch" 
        confirm-type="search"
      />
    </view>
    <view class="filter-btn" bindtap="openFilterPanel">
      <text>缁涙盯鈧?/text>
    </view>
  </view>

  <!-- 閹烘帒绨弽?-->
  <view class="sort-bar">
    <view 
      class="sort-item {{sort === 'default' ? 'active' : ''}}" 
      data-sort="default" 
      bindtap="onChangeSort"
    >
      <text>缂佺厧鎮?/text>
    </view>
    <view 
      class="sort-item {{sort === 'sales' ? 'active' : ''}}" 
      data-sort="sales" 
      bindtap="onChangeSort"
    >
      <text>闁库偓闁?/text>
    </view>
    <view 
      class="sort-item {{sort === 'price_asc' || sort === 'price_desc' ? 'active' : ''}}" 
      bindtap="onChangeSort"
    >
      <text>娴犻攱鐗?/text>
      <view class="price-icon">
        <icon type="up" size="10" class="{{sort === 'price_asc' ? 'active' : ''}}"></icon>
        <icon type="down" size="10" class="{{sort === 'price_desc' ? 'active' : ''}}"></icon>
      </view>
    </view>
    <view 
      class="sort-item {{sort === 'newest' ? 'active' : ''}}" 
      data-sort="newest" 
      bindtap="onChangeSort"
    >
      <text>閺堚偓閺?/text>
    </view>
  </view>

  <!-- 閸旂姾娴囨稉顓犲Ц閹?-->
  <view class="loading" wx:if="{{loading && productList.length === 0}}">
    <text>閸旂姾娴囨稉?..</text>
  </view>

  <!-- 闁挎瑨顕ら悩鑸碘偓?-->
  <view class="error" wx:if="{{error}}">
    <image src="/images/error.svg" class="error-icon"></image>
    <text class="error-text">{{errorMsg}}</text>
    <button class="retry-btn" bindtap="onRetry">闁插秷鐦?/button>
  </view>

  <!-- 閸熷棗鎼ч崚妤勩€?-->
  <view class="product-list" wx:if="{{!loading && !error && productList.length > 0}}">
    <view class="product-item" wx:for="{{productList}}" wx:key="id" bindtap="onProductTap" data-id="{{item.id}}">
      <image class="product-image" src="{{item.images[0] || '/images/default-post.svg'}}" mode="aspectFill"></image>
      <view class="product-info">
        <view class="product-title">{{item.title}}</view>
        <view class="product-price">妤納{item.price}}</view>
        <view class="product-meta">
          <text class="product-sales">闁库偓闁?{{item.sales || 0}}</text>
          <text class="product-stock" wx:if="{{item.stock < 10}}">娴犲懎澧?{{item.stock}} 娴?/text>
        </view>
      </view>
    </view>
  </view>

  <!-- 缁岃櫣濮搁幀?-->
  <view class="empty" wx:if="{{!loading && !error && productList.length === 0}}">
    <image src="/images/empty.svg" class="empty-icon"></image>
    <text class="empty-text">閺嗗倹妫ら崯鍡楁惂</text>
  </view>

  <!-- 閸旂姾娴囬弴鏉戭樋 -->
  <view class="load-more" wx:if="{{!loading && !error && hasMore && productList.length > 0}}">
    <text>娑撳﹥濯洪崝鐘烘祰閺囨潙顦?/text>
  </view>

  <!-- 濞屸剝婀侀弴鏉戭樋 -->
  <view class="no-more" wx:if="{{!loading && !error && !hasMore && productList.length > 0}}">
    <text>濞屸剝婀侀弴鏉戭樋娴?/text>
  </view>
</view>\n