<!--\n鏂囦欢鍚? confirm.wxml\n鐗堟湰鍙? 1.0.0\n鏇存柊鏃ユ湡: 2025-11-27\n鎻忚堪: 璁㈠崟纭椤甸潰妯℃澘\n-->\n<view class="order-confirm">\n  <!-- 鍔犺浇鐘舵€?->\n  <view wx:if="{{loading}}" class="loading-container">\n    <view class="loading"></view>\n    <text>{{i18n.translate('鍔犺浇涓?}}</text>\n  </view>\n\n  <!-- 浜у搧淇℃伅 -->\n  <view class="section" wx:if="{{!loading && product}}">\n    <view class="section-title">{{i18n.translate('浜у搧淇℃伅')}}</view>\n    <view class="product-item">\n      <image class="product-image" src="{{product.image}}" mode="aspectFill"></image>\n      <view class="product-info">\n        <text class="product-name">{{product.name}}</text>\n        <view class="product-specs" wx:for="{{product.specs}}" wx:key="*this">\n          <text class="spec-key">{{item[0]}}:</text>\n          <text class="spec-value">{{item[1]}}</text>\n        </view>\n        <view class="product-price">\n          <text class="price">楼{{product.price}}</text>\n          <text class="quantity">x{{quantity}}</text>\n        </view>\n      </view>\n    </view>\n  </view>\n\n  <!-- 鏀惰揣鍦板潃 -->\n  <view class="section" bindtap="goToAddressSelection">\n    <view class="section-title">{{i18n.translate('鏀惰揣鍦板潃')}}</view>\n    <view class="address-item" wx:if="{{address}}">\n      <view class="address-info">\n        <view class="address-header">\n          <text class="name">{{address.name}}</text>\n          <text class="phone">{{address.phone}}</text>\n        </view>\n        <text class="address-detail">{{address.province}}{{address.city}}{{address.district}}{{address.detail}}</text>\n      </view>\n      <image class="arrow" src="/images/arrow-right.svg" mode="aspectFit"></image>\n    </view>\n    <view class="no-address" wx:else>\n      <text>{{i18n.translate('鐠囩兘鈧瀚ㄦ敹璐у湴鍧€')}}</text>\n      <image class="arrow" src="/images/arrow-right.svg" mode="aspectFit"></image>\n    </view>\n  </view>\n\n  <!-- 鏀粯鏂瑰紡 -->\n  <view class="section">\n    <view class="section-title">{{i18n.translate('鏀粯鏂瑰紡')}}</view>\n    <view class="payment-methods">\n      <view class="method-item" \n            wx:for="{{paymentMethods}}" \n            wx:key="id"\n            data-method="{{item.id}}"\n            bindtap="selectPaymentMethod"\n            class="{{paymentMethod === item.id ? 'selected' : ''}}">\n        <image class="method-icon" src="{{item.icon}}" mode="aspectFit"></image>\n        <text class="method-name">{{item.name}}</text>\n        <image class="check-icon" src="/images/check.svg" mode="aspectFit" wx:if="{{paymentMethod === item.id}}"></image>\n      </view>\n    </view>\n  </view>\n\n  <!-- 缁夘垰鍨庨幎鍨⒏ -->\n  <view class="section" wx:if="{{userPoints && userPoints.available > 0}}">\n    <view class="section-title">{{i18n.translate('缁夘垰鍨庨幎鍨⒏')}}</view>\n    <view class="points-deduction">\n      <view class="points-info">\n        <text>{{i18n.translate('閸欘垳鏁ょ粔顖氬瀻')}}</text>\n        <text class="points-available">{{userPoints.available}} {{i18n.translate('缁夘垰鍨?)}}</text>\n      </view>\n      <view class="points-control">\n        <view class="points-slider-container">\n          <slider \n            min="0" \n            max="{{maxDeductiblePoints}}" \n            value="{{deductionPoints}}" \n            bindchange="onPointsChange"\n            activeColor="#ff6b35"\n            backgroundColor="#e0e0e0"\n          />\n        </view>\n        <view class="points-input-container">\n          <text class="points-label">{{i18n.translate('娴ｈ法鏁ょ粔顖氬瀻')}}</text>\n          <input \n            type="number" \n            value="{{deductionPoints}}" \n            bindinput="onPointsInput"\n            min="0"\n            max="{{maxDeductiblePoints}}"\n            class="points-input"\n          />\n        </view>\n      </view>\n      <view class="deduction-amount">\n        <text>{{i18n.translate('閹跺灚澧搁柌鎴︻杺')}}</text>\n        <text class="amount">-楼{{deductionAmount}}</text>\n      </view>\n    </view>\n  </view>\n\n  <!-- 婢跺洦鏁?-->\n  <view class="section">\n    <view class="section-title">{{i18n.translate('璁㈠崟婢跺洦鏁?)}}</view>\n    <textarea \n      placeholder="{{i18n.translate('鐠囩柉绶崗銉吂閸楁洖顦▔?)}}"\n      value="{{remark}}"\n      bindinput="updateRemark"\n      class="remark-input"\n      maxlength="200"\n    ></textarea>\n  </view>\n\n  <!-- 娴犻攱鐗搁弰搴ｇ矎 -->\n  <view class="section" wx:if="{{!loading && product}}">\n    <view class="section-title">{{i18n.translate('娴犻攱鐗搁弰搴ｇ矎')}}</view>\n    <view class="price-detail">\n      <view class="price-item">\n        <text>{{i18n.translate('閸熷棗鎼ч柌鎴︻杺')}}</text>\n        <text>楼{{totalAmount}}</text>\n      </view>\n      <view class="price-item">\n        <text>{{i18n.translate('鏉╂劘鍨?)}}</text>\n        <text>楼{{shippingFee}}</text>\n      </view>\n      <view class="price-item" wx:if="{{deductionAmount > 0}}">\n        <text>{{i18n.translate('缁夘垰鍨庨幎鍨⒏')}}</text>\n        <text class="deduction">-楼{{deductionAmount}}</text>\n      </view>\n      <view class="price-item total">\n        <text class="total-label">{{i18n.translate('鐎圭偘绮柌鎴︻杺')}}</text>\n        <text class="total-amount">楼{{finalAmount}}</text>\n      </view>\n    </view>\n  </view>\n\n  <!-- 閹绘劒姘﹂幐澶愭尦 -->\n  <view class="submit-container" wx:if="{{!loading && product}}">\n    <view class="total-price">\n      <text>{{i18n.translate('鐎圭偘绮柌鎴︻杺')}}閿?/text>\n      <text class="amount">楼{{finalAmount}}</text>\n    </view>\n    <button class="submit-btn" bindtap="submitOrder" type="primary" disabled="{{!address}}">\n      {{i18n.translate('閹绘劒姘﹁鍗?)}}\n    </button>\n  </view>\n</view>
