锘?!-- 鐠併垹宕熼崚妤勩€冩い鐢告桨 -->
<view class="container">
  <!-- 鐠併垹宕熼悩鑸碘偓渚€鈧銆嶉崡?-->
  <view class="status-tabs">
    <view 
      class="status-tab {{currentStatus === option.id ? 'active' : ''}}" 
      wx:for="{{statusOptions}}" 
      wx:key="id" 
      bindtap="onStatusChange" 
      data-status="{{option.id}}"
    >
      <text>{{option.name}}</text>
    </view>
  </view>

  <!-- 閸旂姾娴囨稉顓犲Ц閹?-->
  <view class="loading" wx:if="{{loading}}">
    <text>閸旂姾娴囨稉?..</text>
  </view>

  <!-- 闁挎瑨顕ら悩鑸碘偓?-->
  <view class="error" wx:if="{{error}}">
    <image src="/images/error.svg" class="error-icon"></image>
    <text class="error-text">{{errorMsg}}</text>
    <button class="retry-btn" bindtap="onRetry">闁插秷鐦?/button>
  </view>

  <!-- 閺堫亞娅ヨぐ鏇犲Ц閹?-->
  <view class="not-logged-in" wx:if="{{!loading && !error && !wx.getApp().isLoggedIn()}}">
    <image src="/images/empty.svg" class="empty-icon"></image>
    <text class="empty-text">鐠囧嘲鍘涢惂璇茬秿閺屻儳婀呯拋銏犲礋</text>
    <button class="login-btn" bindtap="onLogin">閸樿崵娅ヨぐ?/button>
  </view>

  <!-- 缁岄缚顓归崡鏇犲Ц閹?-->
  <view class="empty-order" wx:if="{{!loading && !error && wx.getApp().isLoggedIn() && empty}}">
    <image src="/images/empty.svg" class="empty-icon"></image>
    <text class="empty-text">閺嗗倹妫ょ拋銏犲礋</text>
    <button class="shopping-btn" bindtap="onGoShopping">閸樺鈧盯鈧?/button>
  </view>

  <!-- 鐠併垹宕熼崚妤勩€?-->
  <view class="order-list" wx:if="{{!loading && !error && !empty && orderList.length > 0}}">
    <view class="order-item" wx:for="{{orderList}}" wx:key="id" bindtap="onOrderTap" data-id="{{item.id}}">
      <!-- 鐠併垹宕熸径鎾劥 -->
      <view class="order-header">
        <view class="order-no">鐠併垹宕熼崣鍑ょ窗{{item.orderNo}}</view>
        <view class="order-status" wx:if="{{item.status === 'pending_payment'}}" style="color: #ff6b81;">{{item.statusText}}</view>
        <view class="order-status" wx:elif="{{item.status === 'pending_shipping'}}" style="color: #ff9500;">{{item.statusText}}</view>
        <view class="order-status" wx:elif="{{item.status === 'pending_receipt'}}" style="color: #007aff;">{{item.statusText}}</view>
        <view class="order-status" wx:elif="{{item.status === 'completed'}}" style="color: #4cd964;">{{item.statusText}}</view>
        <view class="order-status" wx:else style="color: #999999;">{{item.statusText}}</view>
      </view>

      <!-- 鐠併垹宕熼崯鍡楁惂閸掓銆?-->
      <view class="order-products">
        <view class="product-item" wx:for="{{item.products}}" wx:for-item="product" wx:for-index="productIndex" wx:key="id">
          <image class="product-image" src="{{product.image}}" mode="aspectFill"></image>
          <view class="product-info">
            <view class="product-title">{{product.title}}</view>
            <view class="product-bottom">
              <view class="product-price">妤納{product.price}}</view>
              <view class="product-quantity">x{{product.quantity}}</view>
            </view>
          </view>
        </view>
      </view>

      <!-- 鐠併垹宕熸惔鏇㈠劥 -->
      <view class="order-footer">
        <view class="order-time">{{item.createTime}}</view>
        <view class="order-total">
          <text>閸忕湧{item.totalCount}}娴犺泛鏅㈤崫渚婄礉閸氬牐顓搁敍?/text>
          <text class="total-price">妤納{item.totalPrice}}</text>
        </view>
      </view>

      <!-- 鐠併垹宕熼幙宥勭稊閹稿鎸?-->
      <view class="order-actions">
        <button 
          class="action-btn secondary" 
          wx:if="{{item.status === 'pending_payment'}}" 
          bindtap="onCancelOrder" 
          data-id="{{item.id}}" 
          data-index="{{index}}"
        >
          閸欐牗绉风拋銏犲礋
        </button>
        <button 
          class="action-btn primary" 
          wx:if="{{item.status === 'pending_payment'}}" 
          bindtap="onPayOrder" 
          data-id="{{item.id}}"
        >
          閸樼粯鏁禒?        </button>
        <button 
          class="action-btn primary" 
          wx:if="{{item.status === 'pending_receipt'}}" 
          bindtap="onConfirmReceipt" 
          data-id="{{item.id}}" 
          data-index="{{index}}"
        >
          绾喛顓婚弨鎯版彛
        </button>
        <button 
          class="action-btn secondary" 
          wx:if="{{item.status === 'completed'}}" 
          bindtap="onReviewOrder" 
          data-id="{{item.id}}"
        >
          閸樻槒鐦庢禒?        </button>
      </view>
    </view>

    <!-- 閸旂姾娴囬弴鏉戭樋 -->
    <view class="load-more" wx:if="{{hasMore}}">
      <text>娑撳﹥濯洪崝鐘烘祰閺囨潙顦?/text>
    </view>
    <view class="no-more" wx:else>
      <text>濞屸剝婀侀弴鏉戭樋娴?/text>
    </view>
  </view>
</view>\n