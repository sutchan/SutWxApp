<!-- 璁㈠崟纭椤甸潰缁撴瀯 -->
<view class="container">
  <!-- 鍦板潃妯″潡 -->
  <view class="address-section" bind:tap="onSelectAddress">
    <view class="address-content" wx:if="{{selectedAddress}}">
      <view class="address-header">
        <text class="name">{{selectedAddress.name}}</text>
        <text class="phone">{{selectedAddress.phone}}</text>
      </view>
      <view class="address-detail">
        <text>{{selectedAddress.province}}{{selectedAddress.city}}{{selectedAddress.district}}{{selectedAddress.detail}}</text>
      </view>
    </view>
    <view class="no-address" wx:else>
      <text>璇烽€夋嫨鏀惰揣鍦板潃</text>
    </view>
    <view class="arrow-right"></view>
  </view>
  
  <!-- 鍟嗗搧鍒楄〃妯″潡 -->
  <view class="product-section">
    <view class="section-title">鍟嗗搧淇℃伅</view>
    
    <!-- 璐墿杞﹀晢鍝?-->
    <view class="product-item" wx:for="{{cartItems}}" wx:key="id" wx:for-item="item">
      <image class="product-image" src="{{item.image || '/images/default-post.svg'}}" mode="aspectFit"></image>
      <view class="product-info">
        <view class="product-title">{{item.title}}</view>
        <view class="product-sku" wx:if="{{item.skuName}}">{{item.skuName}}</view>
        <view class="product-price-quantity">
          <view class="product-price">楼{{item.price.toFixed(2)}}</view>
          <view class="product-quantity">x{{item.quantity}}</view>
        </view>
      </view>
    </view>
    
    <!-- 鐩存帴璐拱鐨勫晢鍝?-->
    <view class="product-item" wx:for="{{products}}" wx:key="id" wx:for-item="item">
      <image class="product-image" src="{{item.image || '/images/default-post.svg'}}" mode="aspectFit"></image>
      <view class="product-info">
        <view class="product-title">{{item.title}}</view>
        <view class="product-sku" wx:if="{{item.selectedSkuName}}">{{item.selectedSkuName}}</view>
        <view class="product-price-quantity">
          <view class="product-price">楼{{item.price.toFixed(2)}}</view>
          <view class="product-quantity">x{{item.quantity}}</view>
        </view>
      </view>
    </view>
  </view>
  
  <!-- 浼樻儬鍒告ā鍧?-->
  <view class="coupon-section" bind:tap="onSelectCoupon">
    <view class="coupon-label">浼樻儬鍒?/view>
    <view class="coupon-value">
      <text wx:if="{{coupon}}">{{coupon.name}}</text>
      <text class="placeholder" wx:else>璇烽€夋嫨浼樻儬鍒?/text>
    </view>
    <view class="arrow-right"></view>
  </view>
  
  <!-- 璁㈠崟澶囨敞妯″潡 -->
  <view class="remark-section">
    <view class="remark-label">璁㈠崟澶囨敞</view>
    <input class="remark-input" placeholder="閫夊～锛岃杈撳叆璁㈠崟澶囨敞淇℃伅" value="{{remark}}" bindinput="onRemarkInput" />
  </view>
  
  <!-- 浠锋牸鏄庣粏妯″潡 -->
  <view class="price-section">
    <view class="price-item">
      <view class="price-label">鍟嗗搧鎬讳环</view>
      <view class="price-value">楼{{totalPrice.toFixed(2)}}</view>
    </view>
    <view class="price-item">
      <view class="price-label">杩愯垂</view>
      <view class="price-value" wx:if="{{shippingFee > 0}}">楼{{shippingFee.toFixed(2)}}</view>
      <view class="price-value free" wx:else>鍏嶈繍璐?/view>
    </view>
    <view class="price-item" wx:if="{{discount > 0}}">
      <view class="price-label">浼樻儬</view>
      <view class="price-value discount">-楼{{discount.toFixed(2)}}</view>
    </view>
  </view>
  
  <!-- 搴曢儴缁撶畻鏍?-->
  <view class="bottom-bar">
    <view class="total-price">
      <text class="price-label">鍚堣锛?/text>
      <text class="price-value">楼{{finalPrice.toFixed(2)}}</text>
    </view>
    <button class="submit-btn" bind:tap="onSubmitOrder" loading="{{submitting}}" disabled="{{submitting}}">鎻愪氦璁㈠崟</button>
  </view>
</view>\n