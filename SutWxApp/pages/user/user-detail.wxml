<!-- 用户详情页面 -->
<view class="user-detail-container">
  <!-- 加载状态 -->
  <view wx:if="{{loading}}" class="loading-container">
    <view class="skeleton">
      <view class="skeleton-avatar"></view>
      <view class="skeleton-name"></view>
      <view class="skeleton-bio"></view>
    </view>
  </view>

  <!-- 错误状态 -->
  <view wx:elif="{{error}}" class="error-container">
    <image class="error-icon" src="/assets/images/error.png" mode="aspectFit"></image>
    <text class="error-text">{{error}}</text>
    <button class="retry-button" bindtap="retryLoad">重试</button>
  </view>

  <!-- 用户信息 -->
  <view wx:elif="{{userInfo}}" class="user-info-container">
    <!-- 用户基本信息 -->
    <view class="user-header">
      <image class="user-avatar" src="{{userInfo.avatar_url || '/assets/images/default-avatar.png'}}" mode="aspectFill"></image>
      <view class="user-basic-info">
        <view class="user-name-row">
          <text class="user-nickname">{{userInfo.nickname || '未知用户'}}</text>
          <text wx:if="{{userInfo.is_verified}}" class="verified-badge">✓</text>
        </view>
        <text class="user-bio">{{userInfo.bio || '暂无简介'}}</text>
        <view class="user-stats">
          <view class="stat-item" bindtap="navigateToUserArticles">
            <text class="stat-count">{{articlesCount}}</text>
            <text class="stat-label">文章</text>
          </view>
          <view class="stat-divider"></view>
          <view class="stat-item" bindtap="navigateToUserFollowing">
            <text class="stat-count">{{followingCount}}</text>
            <text class="stat-label">关注</text>
          </view>
          <view class="stat-divider"></view>
          <view class="stat-item" bindtap="navigateToUserFollowers">
            <text class="stat-count">{{followersCount}}</text>
            <text class="stat-label">粉丝</text>
          </view>
        </view>
      </view>
    </view>

    <!-- 操作按钮 -->
    <view class="action-buttons">
      <button 
        wx:if="{{!isCurrentUser}}" 
        class="follow-button {{isFollowing ? 'following' : ''}}" 
        bindtap="toggleFollow"
        open-type="default"
      >
        {{isFollowing ? '已关注' : '关注'}}
      </button>
      <button 
        wx:else 
        class="profile-button" 
        bindtap="navigateToMyProfile"
        open-type="default"
      >
        查看我的个人中心
      </button>
    </view>

    <!-- 用户其他信息 -->
    <view class="user-other-info">
      <view wx:if="{{userInfo.location}}" class="info-item">
        <text class="info-label">所在地：</text>
        <text class="info-value">{{userInfo.location}}</text>
      </view>
      <view wx:if="{{userInfo.website}}" class="info-item">
        <text class="info-label">网站：</text>
        <text class="info-value">{{userInfo.website}}</text>
      </view>
      <view wx:if="{{userInfo.join_time}}" class="info-item">
        <text class="info-label">加入时间：</text>
        <text class="info-value">{{userInfo.join_time}}</text>
      </view>
    </view>
  </view>

  <!-- 空状态 -->
  <view wx:else class="empty-container">
    <image class="empty-icon" src="/assets/images/empty.png" mode="aspectFit"></image>
    <text class="empty-text">用户信息不存在</text>
  </view>
</view>
