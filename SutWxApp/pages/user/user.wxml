<!-- pages/user/user.wxml -->
<view class="user-center-container">
  <!-- 鐢ㄦ埛淇℃伅澶撮儴 -->
  <view class="user-header" bindtap="goToProfile">
    <view wx:if="{{isLoggedIn}}" class="user-info">
      <image src="{{userInfo.avatar || '/assets/images/default_avatar.png'}}" class="avatar" mode="aspectFill"></image>
      <view class="user-details">
        <view class="user-name">{{userInfo.nickname || i18n.translate('鐢ㄦ埛')}}</view>
        <view class="user-level">
          <text class="level-tag">{{userInfo.level || i18n.translate('鏅€氱敤鎴?)}}</text>
        </view>
      </view>
      <image src="/assets/images/icon_arrow_right.png" class="arrow-icon" mode="aspectFit"></image>
    </view>
    <view wx:else class="not-login" bindtap="goToLogin">
      <image src="/assets/images/default_avatar.png" class="avatar" mode="aspectFill"></image>
      <view class="login-prompt">
        <text>{{i18n.translate('鐐瑰嚮鐧诲綍')}}</text>
      </view>
      <image src="/assets/images/icon_arrow_right.png" class="arrow-icon" mode="aspectFit"></image>
    </view>
  </view>

  <!-- 缁熻淇℃伅鍖哄煙 -->
  <view class="stats-section" wx:if="{{isLoggedIn}}">
    <view class="stat-item">
      <view class="stat-value">{{userInfo.points || 0}}</view>
      <view class="stat-label">{{i18n.translate('绉垎')}}</view>
    </view>
    <view class="stat-divider"></view>
    <view class="stat-item">
      <view class="stat-value">{{userInfo.coupons || 0}}</view>
      <view class="stat-label">{{i18n.translate('浼樻儬鍒?)}}</view>
    </view>
    <view class="stat-divider"></view>
    <view class="stat-item">
      <view class="stat-value">{{userInfo.orders || 0}}</view>
      <view class="stat-label">{{i18n.translate('璁㈠崟')}}</view>
    </view>
  </view>

  <!-- 鍔熻兘鑿滃崟 -->
  <view class="menu-section">
    <view class="menu-grid">
      <view class="menu-item" wx:for="{{menuItems}}" wx:key="id" bindtap="handleMenuTap" data-id="{{item.id}}">
        <image src="{{item.icon}}" class="menu-icon" mode="aspectFit"></image>
        <text class="menu-name">{{item.name}}</text>
      </view>
    </view>
  </view>

  <!-- 閫€鍑虹櫥褰曟寜閽?-->
  <view class="logout-section" wx:if="{{isLoggedIn}}">
    <button class="logout-btn" bindtap="logout" type="warn">{{i18n.translate('閫€鍑虹櫥褰?)}}</button>
  </view>

  <!-- 鐗堟湰淇℃伅 -->
  <view class="version-info">
    <text>{{i18n.translate('版本号:)}} 1.0.1</text>
  </view>
</view>

