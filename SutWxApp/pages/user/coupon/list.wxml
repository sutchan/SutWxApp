锘?!-- 娴兼ɑ鍎崚绋垮灙鐞涖劑銆夐棃銏∧侀弶?-->
<view class="coupon-list-page">
  <!-- 閺嶅洨顒烽弽?-->
  <view class="tab-bar">
    <view 
      wx:for="{{tabs}}" 
      wx:key="key"
      class="tab-item {{activeTab === item.key ? 'active' : ''}}"
      data-key="{{item.key}}"
      bindtap="onTabChange"
    >
      {{item.name}}
    </view>
  </view>

  <!-- 閸旂姾娴囬悩鑸碘偓?-->
  <view class="loading-container" wx:if="{{loading}}">
    <view class="loading-icon"></view>
    <text class="loading-text">閸旂姾娴囨稉?..</text>
  </view>

  <!-- 閺冪姳绱幆鐘插煖閹绘劗銇?-->
  <view class="empty-container" wx:if="{{!loading && noCoupons}}">
    <image class="empty-icon" src="../../../images/empty.svg" mode="aspectFit"></image>
    <text class="empty-text">閺嗗倹妫ゆ导妯诲劕閸?/text>
  </view>

  <!-- 娴兼ɑ鍎崚绋垮灙鐞?-->
  <view class="coupon-list" wx:if="{{!loading && !noCoupons}}">
    <view 
      wx:for="{{coupons}}" 
      wx:key="id"
      class="coupon-item"
      bindtap="onViewCouponDetail"
      data-id="{{item.id}}"
    >
      <!-- 娴兼ɑ鍎崚绋垮敶鐎?-->
      <view class="coupon-content">
        <view class="coupon-left">
          <text class="coupon-value">{{formatCoupon(item).valueText}}</text>
          <text class="coupon-type">{{formatCoupon(item).typeText}}</text>
        </view>
        
        <view class="coupon-right">
          <view class="coupon-header">
            <text class="coupon-name">{{item.name}}</text>
            <text class="coupon-status" wx:if="{{activeTab !== 'available'}}">
              {{activeTab === 'used' ? '瀹歌弓濞囬悽? : '瀹歌尪绻冮張?}}
            </text>
          </view>
          
          <text class="coupon-desc">{{item.description}}</text>
          
          <view class="coupon-footer">
            <text class="coupon-condition">{{formatCoupon(item).conditionText}}</text>
            <text class="coupon-expire">閺堝鏅ラ張鐔诲殾閿涙{formatCoupon(item).expireText}}</text>
          </view>
        </view>
      </view>
      
      <!-- 閸欏厖鏅剁憗鍛淬偘 -->
      <view class="coupon-border"></view>
    </view>
  </view>

  <!-- 瀹歌弓濞囬悽銊ょ喘閹姴鍩滄０婵嗩樆娣団剝浼?-->
  <view class="used-info" wx:if="{{item.status === 'used' && item.used_time}}">
    <text class="used-time">娴ｈ法鏁ら弮鍫曟？閿涙{item.used_time}}</text>
    <text class="order-id">鐠併垹宕熼崣鍑ょ窗{{item.order_id}}</text>
  </view>
</view>
\n