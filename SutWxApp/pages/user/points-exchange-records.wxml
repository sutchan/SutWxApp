锘?!-- 缁夘垰鍨庨崗鎴炲床鐠佹澘缍嶆い鐢告桨 -->
<view class="records-container">
  <!-- 妞ょ敻娼伴弽鍥暯 -->
  <view class="page-header">
    <text class="page-title">閸忔垶宕茬拋鏉跨秿</text>
  </view>

  <!-- 閺嶅洨顒锋い?-->
  <view class="tabs">
    <view 
      wx:for="{{tabs}}" 
      wx:key="key"
      class="tab {{tab === item.key ? 'active' : ''}}"
      bindtap="onTabChange"
      data-tab="{{item.key}}"
    >
      <text>{{item.name}}</text>
      <view class="tab-line" wx:if="{{tab === item.key}}"></view>
    </view>
  </view>

  <!-- 閸旂姾娴囬悩鑸碘偓?-->
  <view class="loading-container" wx:if="{{loading && records.length === 0}}">
    <view class="loading-icon"></view>
    <text class="loading-text">閸旂姾娴囨稉?..</text>
  </view>

  <!-- 闁挎瑨顕ら幓鎰仛 -->
  <view class="error-container" wx:if="{{error && records.length === 0}}">
    <view class="error-icon">閳跨媴绗?/view>
    <text class="error-text">{{error}}</text>
    <button class="retry-button" bindtap="onRetry">闁插秷鐦?/button>
  </view>

  <!-- 閸忔垶宕茬拋鏉跨秿閸掓銆?-->
  <view class="records-list" wx:if="{{records.length > 0}}">
    <view class="record-item" wx:for="{{records}}" wx:key="id">
      <!-- 閸熷棗鎼ф穱鈩冧紖 -->
      <view class="record-header">
        <view class="product-info">
          <image class="product-image" src="{{item.productImage || '/assets/images/default-product.png'}}" mode="aspectFill"></image>
          <view class="product-details">
            <text class="product-title">{{item.productTitle}}</text>
            <text class="exchange-date">{{item.createdAt}}</text>
          </view>
        </view>
        <view class="status {{getStatusClass(item.status)}}">
          {{getStatusText(item.status)}}
        </view>
      </view>

      <!-- 鐠併垹宕熸穱鈩冧紖 -->
      <view class="record-body">
        <view class="order-info">
          <text class="info-label">鐠併垹宕熺紓鏍у娇</text>
          <text class="info-value">{{item.orderId}}</text>
        </view>
        <view class="points-info">
          <text class="info-label">濞戝牐鈧袧閸?/text>
          <text class="info-value points-value">{{item.points}}</text>
        </view>
        <view class="address-info" wx:if="{{item.shippingAddress}}">
          <text class="info-label">閺€鎯版彛閸︽澘娼?/text>
          <text class="info-value address-text">{{item.shippingAddress}}</text>
        </view>
      </view>

      <!-- 閹垮秳缍旈幐澶愭尦 -->
      <view class="record-footer" wx:if="{{item.status === 'processing'}}">
        <button class="action-button">閺屻儳婀呯拠锔藉剰</button>
      </view>
    </view>
  </view>

  <!-- 缁岃櫣濮搁幀?-->
  <view class="empty-container" wx:if="{{!loading && !error && records.length === 0}}">
    <view class="empty-icon">棣冩惖</view>
    <text class="empty-text">閺嗗倹妫ら崗鎴炲床鐠佹澘缍?/text>
    <text class="empty-hint">韫囶偄骞撶粔顖氬瀻閸熷棗鐓勯崗鎴炲床韫囧啩鍗庨惃鍕櫌閸濅礁鎯倊</text>
    <button class="mall-button" bindtap="navigateToMall">閸撳秴绶氱粔顖氬瀻閸熷棗鐓?/button>
  </view>

  <!-- 閸旂姾娴囬弴鏉戭樋 -->
  <view class="load-more" wx:if="{{hasMore && records.length > 0}}">
    <text>{{loading ? '閸旂姾娴囨稉?..' : '娑撳﹥濯洪崝鐘烘祰閺囨潙顦?}}</text>
  </view>

  <!-- 瀹告彃濮炴潪钘夊弿闁?-->
  <view class="load-complete" wx:if="{{!hasMore && records.length > 0}}">
    <text>瀹告彃濮炴潪钘夊弿闁?/text>
  </view>
</view>
\n