<!-- pages/user/login/login.wxml -->
<view class="login-container">
  <!-- 顶部Logo -->
  <view class="logo-container">
    <image src="/images/logo.png" class="logo"></image>
    <text class="app-name">SUT微信小程序</text>
    <text class="app-slogan">连接校园，便捷生活</text>
  </view>

  <!-- 登录按钮区域 -->
  <view class="login-btn-container">
    <!-- 加载状态 -->
    <view class="loading" wx:if="{{isLoading}}">
      <view class="loading-icon"></view>
      <text>登录中...</text>
    </view>

    <!-- 主要登录按钮 -->
    <button wx:if="{{canIUseGetUserProfile && !isLoading}}" type="primary" class="login-btn" bindtap="getUserProfile">
      微信一键登录
    </button>

    <!-- 兼容旧版本的登录按钮 -->
    <button wx:elif="{{!isLoading}}" open-type="getUserInfo" bindgetuserinfo="bindGetUserInfo" type="primary" class="login-btn">
      微信一键登录
    </button>
  </view>

  <!-- 授权说明 -->
  <view class="auth-tips">
    <text>登录后可享受更多功能</text>
  </view>

  <!-- 用户信息展示区域（仅用于演示，实际项目中不推荐这样使用） -->
  <view class="user-info-container" wx:if="{{canIUseOpenData}}">
    <view class="user-info">
      <open-data type="userAvatarUrl"></open-data>
      <open-data type="userNickName"></open-data>
    </view>
  </view>

  <!-- 服务条款和隐私政策 -->
  <view class="agreement-container">
    <text>登录即表示您同意</text>
    <text class="link" bindtap="navigateToAgreement" data-type="user">《用户协议》</text>
    <text>和</text>
    <text class="link" bindtap="navigateToAgreement" data-type="privacy">《隐私政策》</text>
  </view>

  <!-- 客服联系方式 -->
  <view class="customer-service">
    <text class="service-text" bindtap="contactService">遇到问题？联系客服</text>
  </view>
</view>