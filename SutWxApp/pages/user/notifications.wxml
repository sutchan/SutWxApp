<!-- 閫氱煡椤甸潰 -->
<view class="container">
  <!-- 绛涢€夋爮 -->
  <view class="filter-bar">
    <view 
      class="filter-item {{activeFilter === 'all' ? 'active' : ''}}" 
      data-filter="all" 
      bindtap="changeFilter"
    >
      鍏ㄩ儴
    </view>
    <view 
      class="filter-item {{activeFilter === 'unread' ? 'active' : ''}}" 
      data-filter="unread" 
      bindtap="changeFilter"
    >
      鏈
    </view>
    <view 
      class="filter-item {{activeFilter === 'system' ? 'active' : ''}}" 
      data-filter="system" 
      bindtap="changeFilter"
    >
      绯荤粺
    </view>
    <view 
      class="filter-item {{activeFilter === 'comment' ? 'active' : ''}}" 
      data-filter="comment" 
      bindtap="changeFilter"
    >
      璇勮
    </view>
  </view>

  <!-- 閫氱煡鍒楄〃 -->
  <view class="notification-list" wx:if="{{notifications.length > 0}}">
    <view 
      wx:for="{{notifications}}" 
      wx:key="id" 
      class="notification-item {{item.is_read ? '' : 'unread'}}"
      data-id="{{item.id}}"
      bindtap="onNotificationClick"
    >
      <!-- 鏈鏍囪 -->
      <view class="unread-dot" wx:if="{{!item.is_read}}"></view>
      
      <!-- 閫氱煡澶撮儴 -->
      <view class="notification-header">
        <text class="notification-title">{{item.title}}</text>
        <text class="notification-time">{{item.time_ago}}</text>
      </view>
      
      <!-- 閫氱煡鍐呭 -->
      <text class="notification-content">{{item.content}}</text>
      
      <!-- 閫氱煡搴曢儴 -->
      <view class="notification-footer">
        <view class="notification-type notification-type-{{item.type}}">{{item.type_text}}</view>
      </view>
    </view>
  </view>
  
  <!-- 绌虹姸鎬?-->
  <view class="empty-state" wx:elif="{{!loading}}">
    <image class="empty-icon" src="/assets/images/empty-notification.png" mode="aspectFit"></image>
    <text class="empty-text">鏆傛棤閫氱煡</text>
  </view>
  
  <!-- 鍔犺浇鏇村 -->
  <view class="load-more" wx:if="{{hasMore && notifications.length > 0}}">
    {{loadingMore ? '鍔犺浇涓?..' : '涓婃媺鍔犺浇鏇村'}}
  </view>
  <view class="load-more" wx:elif="{{!hasMore && notifications.length > 0}}">
    宸插姞杞藉叏閮ㄩ€氱煡
  </view>

  <!-- 鏍囪鍏ㄩ儴宸茶鎸夐挳 -->
  <view class="mark-all-read" wx:if="{{unreadCount > 0}}" bindtap="markAllAsRead">
    鍏ㄩ儴宸茶
  </view>
</view>\n