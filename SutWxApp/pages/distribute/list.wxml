<!-- 閸掑棝鏀㈤崚妤勩€冩い鐢告桨 -->
<view class="distribute-list-page">
  <!-- 缁涙盯鈧鐖?-->
  <view class="filter-bar">
    <view class="filter-item">
      <text class="filter-label">閻樿埖鈧緤绱?/text>
      <picker bindchange="onStatusChange" value="{{status}}" range="['all', 'pending', 'approved', 'rejected', 'deleted']" range-key="name">
        <view class="filter-picker">
          {{status === 'all' ? '閸忋劑鍎? : status === 'pending' ? '瀵板懎顓搁弽? : status === 'approved' ? '瀹告煡鈧俺绻? : status === 'rejected' ? '瀹告煡鈹忛崶? : '瀹告彃鍨归梽?}}
          <image src="../../images/arrow-down.svg" class="arrow-icon" />
        </view>
      </picker>
    </view>
    <view class="filter-item">
      <text class="filter-label">缁鐎烽敍?/text>
      <picker bindchange="onTypeChange" value="{{type}}" range="['all', 'product', 'article']" range-key="name">
        <view class="filter-picker">
          {{type === 'all' ? '閸忋劑鍎? : type === 'product' ? '閸熷棗鎼? : '閺傚洨鐝?}}
          <image src="../../images/arrow-down.svg" class="arrow-icon" />
        </view>
      </picker>
    </view>
  </view>

  <!-- 閸掑棝鏀㈤崚妤勩€?-->
  <view class="distribute-list">
    <block wx:for="{{distributeList}}" wx:key="id" wx:for-item="item">
      <view class="distribute-item">
        <view class="distribute-header">
          <view class="distribute-info">
            <text class="distribute-title">{{item.title}}</text>
            <text class="distribute-id">ID: {{item.id}}</text>
          </view>
          <view class="distribute-status" wx:if="{{item.status === 'pending'}}">
            <text class="status-pending">瀵板懎顓搁弽?/text>
          </view>
          <view class="distribute-status" wx:elif="{{item.status === 'approved'}}">
            <text class="status-approved">瀹告煡鈧俺绻?/text>
          </view>
          <view class="distribute-status" wx:elif="{{item.status === 'rejected'}}">
            <text class="status-rejected">瀹告煡鈹忛崶?/text>
          </view>
          <view class="distribute-status" wx:else>
            <text class="status-deleted">瀹告彃鍨归梽?/text>
          </view>
        </view>

        <view class="distribute-content">
          <text class="distribute-description">{{item.description}}</text>
        </view>

        <view class="distribute-meta">
          <text class="distribute-type">缁鐎烽敍姝縶item.type === 'product' ? '閸熷棗鎼? : '閺傚洨鐝?}}</text>
          <text class="distribute-time">閸掓稑缂撻弮鍫曟？閿涙{item.createTime}}</text>
        </view>

        <!-- 閹垮秳缍旈幐澶愭尦 -->
        <view class="distribute-actions" wx:if="{{item.status === 'pending'}}">
          <button class="action-btn approve-btn" bindtap="approveDistribute" data-id="{{item.id}}">
            鐎光剝鐗抽柅姘崇箖
          </button>
          <button class="action-btn reject-btn" bindtap="rejectDistribute" data-id="{{item.id}}">
            妞瑰啿娲?          </button>
          <button class="action-btn delete-btn" bindtap="deleteDistribute" data-id="{{item.id}}">
            閸掔娀娅?          </button>
        </view>
        <view class="distribute-actions" wx:elif="{{item.status === 'approved' || item.status === 'rejected'}}">
          <button class="action-btn delete-btn" bindtap="deleteDistribute" data-id="{{item.id}}">
            閸掔娀娅?          </button>
        </view>

        <!-- 閺屻儳婀呯拠锔藉剰閹稿鎸?-->
        <view class="detail-btn-container">
          <button class="detail-btn" bindtap="goToDetail" data-id="{{item.id}}">
            閺屻儳婀呯拠锔藉剰
          </button>
        </view>
      </view>
    </block>
  </view>

  <!-- 缁岃櫣濮搁幀?-->
  <view class="empty-state" wx:if="{{distributeList.length === 0 && !loading}}">
    <image src="../../images/empty.svg" class="empty-image" />
    <text class="empty-text">閺嗗倹妫ら崚鍡涙敘閺佺増宓?/text>
  </view>

  <!-- 閸旂姾娴囬弴鏉戭樋 -->
  <view class="loading-more" wx:if="{{loading}}">
    <text>鍔犺浇涓?.</text>
  </view>
</view>
