<!-- checkout.wxml - 结算页面模板 -->

<view class="checkout-container">
  <!-- 地址信息 -->
  <view class="address-section" bindtap="selectAddress">
    <view class="address-content" wx:if="{{address}}">
      <view class="address-header">
        <text class="user-name">{{address.name}} {{address.phone}}</text>
        <text class="address-arrow">&gt;</text>
      </view>
      <text class="address-detail">{{address.province}} {{address.city}} {{address.district}} {{address.detail}}</text>
    </view>
    <view class="address-empty" wx:else>
      <text class="empty-text">请选择收货地址</text>
      <text class="address-arrow">&gt;</text>
    </view>
  </view>

  <!-- 商品列表 -->
  <view class="order-section">
    <view class="section-title">商品信息</view>
    <view class="order-items">
      <view class="order-item" wx:for="{{cartItems}}" wx:key="index">
        <image class="item-image" src="{{item.image}}" mode="aspectFill"></image>
        <view class="item-info">
          <text class="item-title">{{item.name}}</text>
          <view class="item-footer">
            <text class="item-price">¥{{item.price}}</text>
            <text class="item-quantity">x{{item.quantity}}</text>
          </view>
        </view>
      </view>
    </view>
  </view>

  <!-- 订单备注 -->
  <view class="remark-section">
    <text class="section-title">订单备注</text>
    <input class="remark-input" placeholder="选填，请输入订单备注" bindinput="onRemarkInput" value="{{orderRemark}}" />
  </view>

  <!-- 底部结算栏 -->
  <view class="bottom-bar">
    <view class="total-price">
      <text class="price-label">合计：</text>
      <text class="price-value">¥{{totalPrice}}</text>
    </view>
    <button class="submit-btn" type="primary" bindtap="submitOrder" loading="{{submitting}}" disabled="{{submitting || !address || cartItems.length === 0}}">
      提交订单
    </button>
  </view>
</view>