锘?!-- 闁氨鐓℃稉顓炵妇妞ょ敻娼?-->
<view class="container">
  <!-- 缁涙盯鈧鐖?-->
  <view class="filter-bar">
    <view 
      class="filter-item {{activeFilter === 'all' ? 'active' : ''}}" 
      data-filter="all" 
      bindtap="changeFilter"
    >
      閸忋劑鍎?    </view>
    <view 
      class="filter-item {{activeFilter === 'unread' ? 'active' : ''}}" 
      data-filter="unread" 
      bindtap="changeFilter"
    >
      閺堫亣顕?    </view>
    <view 
      class="filter-item {{activeFilter === 'system' ? 'active' : ''}}" 
      data-filter="system" 
      bindtap="changeFilter"
    >
      缁崵绮?    </view>
    <view 
      class="filter-item {{activeFilter === 'interaction' ? 'active' : ''}}" 
      data-filter="interaction" 
      bindtap="changeFilter"
    >
      娴滄帒濮?    </view>
    <view 
      class="filter-item {{activeFilter === 'points' ? 'active' : ''}}" 
      data-filter="points" 
      bindtap="changeFilter"
    >
      缁夘垰鍨?    </view>
  </view>

  <!-- 闁氨鐓￠崚妤勩€?-->
  <view class="notification-list" wx:if="{{notifications.length > 0 && !loading}}">
    <view 
      wx:for="{{notifications}}" 
      wx:key="id" 
      class="notification-item {{item.is_read ? '' : 'unread'}}" 
      data-id="{{item.id}}" 
      bindtap="onNotificationClick"
    >
      <!-- 閺堫亣顕伴弽鍥唶 -->
      <view class="unread-dot" wx:if="{{!item.is_read}}"></view>
      
      <!-- 闁氨鐓℃径鎾劥 -->
      <view class="notification-header">
        <text class="notification-title">{{item.title}}</text>
        <text class="notification-time">{{item.time_ago}}</text>
      </view>
      
      <!-- 闁氨鐓￠崘鍛啇 -->
      <text class="notification-content">{{item.content}}</text>
      
      <!-- 闁氨鐓℃惔鏇㈠劥 -->
      <view class="notification-footer">
        <text class="notification-type {{'notification-type-' + item.type}}">{{item.type_text}}</text>
      </view>
    </view>
    
    <!-- 閸旂姾娴囬弴鏉戭樋 -->
    <view class="load-more" wx:if="{{hasMore}}">
      娑撳﹥濯洪崝鐘烘祰閺囨潙顦?    </view>
    <view class="load-more" wx:elif="{{!hasMore && notifications.length > 0}}">
      瀹告彃濮炴潪钘夊弿闁劑鈧氨鐓?    </view>
  </view>

  <!-- 缁岃櫣濮搁幀?-->
  <view class="empty-state" wx:if="{{notifications.length === 0 && !loading}}">
    <image class="empty-icon" src="/assets/images/empty-notification.png" mode="aspectFit"></image>
    <text class="empty-text">閺嗗倹妫ら柅姘辩叀</text>
  </view>

  <!-- 閸旂姾娴囬悩鑸碘偓?-->
  <view class="loading" wx:if="{{loading}}">
    <text>閸旂姾娴囨稉?..</text>
  </view>

  <!-- 閺嶅洩顔囬崗銊╁劥瀹歌尪顕伴幐澶愭尦 -->
  <view class="mark-all-read" wx:if="{{unreadCount > 0}}" bindtap="markAllAsRead">
    閸忋劑鍎村鑼额嚢
  </view>
</view>\n