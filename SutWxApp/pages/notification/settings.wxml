<!--
 * 文件名: settings.wxml
 * 版本号: 1.0.0
 * 更新日期: 2025-11-30
 * 描述: 通知设置页面
-->
<view class="container">
  <!-- 通知设置列表 -->
  <view class="settings-list" wx:if="{{settings}}">
    <!-- 系统通知 -->
    <view class="setting-item">
      <view class="setting-info">
        <text class="setting-title">系统通知</text>
        <text class="setting-desc">接收系统相关通知，如账号安全、版本更新等</text>
      </view>
      <switch 
        checked="{{settings.systemNotification}}" 
        bindchange="onSystemNotificationChange"
        color="#07c160"
      />
    </view>
    
    <!-- 订单通知 -->
    <view class="setting-item">
      <view class="setting-info">
        <text class="setting-title">订单通知</text>
        <text class="setting-desc">接收订单状态变化通知，如发货、签收等</text>
      </view>
      <switch 
        checked="{{settings.orderNotification}}" 
        bindchange="onOrderNotificationChange"
        color="#07c160"
      />
    </view>
    
    <!-- 促销通知 -->
    <view class="setting-item">
      <view class="setting-info">
        <text class="setting-title">促销通知</text>
        <text class="setting-desc">接收产品促销、优惠券发放等通知</text>
      </view>
      <switch 
        checked="{{settings.promotionNotification}}" 
        bindchange="onPromotionNotificationChange"
        color="#07c160"
      />
    </view>
    
    <!-- 活动通知 -->
    <view class="setting-item">
      <view class="setting-info">
        <text class="setting-title">活动通知</text>
        <text class="setting-desc">接收平台活动、限时特惠等通知</text>
      </view>
      <switch 
        checked="{{settings.activityNotification}}" 
        bindchange="onActivityNotificationChange"
        color="#07c160"
      />
    </view>
    
    <!-- 清空通知 -->
    <view class="setting-item action-item" bindtap="onClearNotifications">
      <view class="setting-info">
        <text class="setting-title danger">清空所有通知</text>
        <text class="setting-desc">将删除所有已读通知</text>
      </view>
      <text class="action-arrow">→</text>
    </view>
    
    <!-- 通知数量 -->
    <view class="setting-item info-item">
      <view class="setting-info">
        <text class="setting-title">未读通知数量</text>
      </view>
      <text class="info-value">{{unreadCount}}</text>
    </view>
  </view>
  
  <!-- 加载中 -->
  <view class="loading" wx:elif="{{loading}}">
    <text>加载中...</text>
  </view>
  
  <!-- 空状态 -->
  <view class="empty" wx:else>
    <text>加载设置失败</text>
  </view>
</view>
