﻿﻿﻿﻿﻿# 目录结构

## 目录

[TOC]

## 1. 项目目录结构

SutWxApp项目采用清晰的目录结构，便于代码管理和维护。以下是项目的主要目录结构：

```
SutWxApp/
├── app.js              # 小程序入口文件
├── app.json            # 全局配置
├── app.wxss            # 全局样式
├── assets/             # 公共资源
│   └── images/         # 图片资源
├── components/         # 自定义组件
│   ├── emptyState/     # 空状态组件
│   ├── lazyImage/      # 懒加载图片组件
│   ├── orderCard/      # 订单卡片组件
│   ├── productCard/    # 商品卡片组件
│   └── index.js        # 组件注册入口
├── images/             # 图片文件
│   ├── tabbar/         # 标签栏图标
│   └── ...             # 其他图片资源
├── pages/              # 页面文件
│   ├── index/          # 首页
│   │   ├── index.js    # 页面逻辑
│   │   ├── index.wxml  # 页面结构
│   │   ├── index.wxss  # 页面样式
│   │   └── index.json  # 页面配置
│   ├── category/       # 分类页
│   ├── product/        # 商品详情页
│   ├── cart/           # 购物车页
│   ├── order/          # 订单页
│   ├── user/           # 用户中心
│   └── ...             # 其他页面
├── services/           # 服务层
│   ├── api.js          # API请求封装
│   ├── user.js         # 用户相关服务
│   ├── product.js      # 商品相关服务
│   ├── order.js        # 订单相关服务
│   └── ...             # 其他服务
├── utils/              # 工具类
│   ├── request.js      # 网络请求工具
│   ├── storage.js      # 存储工具
│   ├── util.js         # 通用工具函数
│   └── ...             # 其他工具
├── app.js              # 小程序入口文件
├── app.json            # 全局配置
├── app.wxss            # 全局样式
└── project.config.json # 项目配置文件
```

## 2. 目录说明

### 2.1 根目录

| 目录/文件 | 描述 |
|---------|------|
| `app.js` | 小程序入口文件，包含全局生命周期函数和全局数据 |
| `app.json` | 全局配置文件，包含页面路径、窗口样式、标签栏等配置 |
| `app.wxss` | 全局样式文件，定义全局样式规则 |
| `project.config.json` | 项目配置文件，包含微信开发者工具的配置信息 |

### 2.2 核心目录

| 目录 | 描述 |
|-----|------|
| `pages/` | 存放所有页面文件，每个页面一个子目录 |
| `components/` | 存放自定义组件，每个组件一个子目录 |
| `services/` | 服务层，封装API请求和业务逻辑 |
| `utils/` | 工具类，包含通用工具函数和工具模块 |
| `assets/` | 公共资源目录，存放图片、字体等资源 |
| `images/` | 图片资源目录，存放小程序使用的所有图片 |

### 2.3 页面目录结构

每个页面目录包含以下文件：

| 文件 | 描述 |
|-----|------|
| `[page].js` | 页面逻辑文件，包含页面生命周期函数和事件处理 |
| `[page].wxml` | 页面结构文件，使用WXML语法定义页面布局 |
| `[page].wxss` | 页面样式文件，定义页面的样式规则 |
| `[page].json` | 页面配置文件，覆盖全局配置的页面特定配置 |

### 2.4 组件目录结构

每个组件目录包含以下文件：

| 文件 | 描述 |
|-----|------|
| `[component].js` | 组件逻辑文件，包含组件生命周期和方法 |
| `[component].wxml` | 组件结构文件，定义组件的模板 |
| `[component].wxss` | 组件样式文件，定义组件的样式 |
| `[component].json` | 组件配置文件，声明组件的属性和事件 |

## 3. 代码组织原则

1. **模块化设计**：将功能拆分为独立的模块，便于维护和复用
2. **单一职责原则**：每个文件和函数只负责一个功能
3. **分层架构**：
   - 表现层（pages/）：负责页面展示和用户交互
   - 组件层（components/）：封装可复用的UI组件
   - 服务层（services/）：处理业务逻辑和API请求
   - 工具层（utils/）：提供通用工具函数
4. **命名规范**：
   - 目录和文件名使用小写字母，单词间用连字符分隔
   - 组件名使用大驼峰命名法
   - 函数名使用小驼峰命名法
   - 常量名使用全大写，单词间用下划线分隔

## 4. 开发规范

1. **文件命名**：
   - 页面文件：与页面功能相关的名称，如 `index.js`、`product-detail.js`
   - 组件文件：描述组件功能的名称，如 `lazy-image.js`、`product-card.js`
   - 服务文件：描述服务功能的名称，如 `user-service.js`、`api-service.js`
   - 工具文件：描述工具功能的名称，如 `request-util.js`、`storage-util.js`

2. **代码风格**：
   - 使用2个空格进行缩进
   - 每行代码不超过100个字符
   - 函数和类之间空2行
   - 代码块之间空1行
   - 注释使用中文

3. **资源管理**：
   - 图片资源按功能分类存放
   - 大型资源考虑使用CDN
   - 图片使用适当的格式和大小，优先使用WebP格式

## 5. 文档目录结构

项目文档存放在 `docs/` 目录下，按功能模块和使用对象进行组织：

```
docs/
├── 00-项目概览/         # 项目整体介绍
│   ├── 01-项目简介.md   # 项目背景、定位、目标等
│   ├── 02-目录结构.md   # 项目目录结构说明
│   ├── 03-技术栈.md     # 项目使用的技术栈
│   └── README.md        # 项目概览目录说明
├── 01-文档指南/         # 文档编写指南
├── 02-管理员指南/       # 管理员操作指南
├── 03-开发者指南/       # 开发者开发指南
├── 04-用户指南/         # 最终用户使用指南
├── 05-功能模块/         # 各功能模块详细说明
├── 06-常见问题/         # 常见问题和故障排除
├── 07-测试文档/         # 测试相关文档
├── 08-TODO计划/         # 开发计划和TODO清单
├── 09-运维与部署/       # 运维和部署相关文档
├── 10-归档资料/         # 归档的旧文档
└── 11-优化建议/         # 系统优化建议
```

## 6. 版本控制

项目使用Git进行版本控制，遵循以下分支策略：

- `main`：主分支，存放稳定版本代码
- `develop`：开发分支，存放正在开发的代码
- `feature/xxx`：功能分支，用于开发新功能
- `bugfix/xxx`：修复分支，用于修复bug
- `hotfix/xxx`：热修复分支，用于紧急修复生产环境问题

## 7. 部署结构

小程序部署时，微信开发者工具会将项目打包成小程序包（.wxapkg），包含以下内容：

- 编译后的WXML、WXSS、JS文件
- 图片、音频等资源文件
- 配置文件

部署包大小限制为2MB，超过2MB需要使用分包加载机制。

## 8. 总结

SutWxApp项目采用清晰的目录结构和模块化设计，便于团队协作和代码维护。通过合理的分层架构和命名规范，提高了代码的可读性和可维护性。项目文档也按照功能模块和使用对象进行组织，便于不同角色的人员查找和使用。