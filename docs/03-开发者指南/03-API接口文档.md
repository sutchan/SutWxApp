# API 接口文档\n\n## 1. 概述\n\n本文档旨在提供 SutWxApp 微信小程序后端 API 接口的详细说明，包括接口地址、请求方法、参数、响应示例以及错误码等信息。开发者可以根据本文档进行前端开发和后端接口联调。\n\n## 2. 认证与授权\n\n所有需要用户身份的 API 接口都采用 Bearer Token 进行认证。前端在发起请求时，需要在请求头中携带 `Authorization` 字段，格式为 `Bearer <Your_Token>`。\n\nToken 的获取和刷新机制请参考 [架构设计文档 - 身份认证](#/docs/03-开发者指南/02-架构设计文档.md#身份认证)。\n\n## 3. 基础信息\n\n*   **API 基础 URL**：`https://api.example.com/wxapp/v1` (示例，请替换为实际后端地址)\n*   **请求方法**：GET, POST, PUT, DELETE\n*   **请求头**：\n    *   `Content-Type`: `application/json` (POST/PUT 请求)\n    *   `Authorization`: `Bearer <Your_Token>` (需要认证的接口)\n\n## 4. 接口列表\n\n### 4.1 用户模块\n\n#### 4.1.1 获取用户信息\n\n*   **接口地址**：`/user/info`\n*   **请求方法**：`GET`\n*   **是否需要认证**：是\n*   **请求参数**：无\n*   **响应示例**：\n\n    ```json\n    {\n      \"code\": 0,\n      \"message\": \"success\",\n      \"data\": {\n        \"userId\": \"12345\",\n        \"nickname\": \"Sut\",\n        \"avatarUrl\": \"https://example.com/avatar.png\",\n        \"gender\": 1,\n        \"city\": \"Guangzhou\",\n        \"province\": \"Guangdong\"\n      }\n    }\n    ```\n\n#### 4.1.2 更新用户信息\n\n*   **接口地址**：`/user/update`\n*   **请求方法**：`POST`\n*   **是否需要认证**：是\n*   **请求参数**：\n\n    | 参数名    | 类型   | 必填 | 说明       |\n    | :-------- | :----- | :--- | :--------- |\n    | `nickname` | `string` | 否   | 用户昵称   |\n    | `avatarUrl`| `string` | 否   | 头像 URL   |\n    | `gender`   | `number` | 否   | 性别 (1:男, 2:女) |\n\n*   **响应示例**：\n\n    ```json\n    {\n      \"code\": 0,\n      \"message\": \"success\",\n      \"data\": null\n    }\n    ```\n\n### 4.2 文章模块\n\n#### 4.2.1 获取文章列表\n\n*   **接口地址**：`/article/list`\n*   **请求方法**：`GET`\n*   **是否需要认证**：否\n*   **请求参数**：\n\n    | 参数名    | 类型   | 必填 | 说明       |\n    | :-------- | :----- | :--- | :--------- |\n    | `page`     | `number` | 否   | 页码，默认为1 |\n    | `pageSize` | `number` | 否   | 每页数量，默认为10 |\n\n*   **响应示例**：\n\n    ```json\n    {\n      \"code\": 0,\n      \"message\": \"success\",\n      \"data\": {\n        \"total\": 100,\n        \"list\": [\n          {\n            \"articleId\": \"a001\",\n            \"title\": \"文章标题1\",\n            \"author\": \"Sut\",\n            \"publishDate\": \"2023-01-01\",\n            \"coverImage\": \"https://example.com/cover1.png\"\n          },\n          {\n            \"articleId\": \"a002\",\n            \"title\": \"文章标题2\",\n            \"author\": \"Sut\",\n            \"publishDate\": \"2023-01-02\",\n            \"coverImage\": \"https://example.com/cover2.png\"\n          }\n        ]\n      }\n    }\n    ```\n\n#### 4.2.2 获取文章详情\n\n*   **接口地址**：`/article/detail/:articleId`\n*   **请求方法**：`GET`\n*   **是否需要认证**：否\n*   **请求参数**：\n\n    | 参数名      | 类型   | 必填 | 说明       |\n    | :---------- | :----- | :--- | :--------- |\n    | `articleId` | `string` | 是   | 文章ID     |\n\n*   **响应示例**：\n\n    ```json\n    {\n      \"code\": 0,\n      \"message\": \"success\",\n      \"data\": {\n        \"articleId\": \"a001\",\n        \"title\": \"文章标题1\",\n        \"content\": \"<p>文章内容...</p>\",\n        \"author\": \"Sut\",\n        \"publishDate\": \"2023-01-01\",\n        \"views\": 1234\n      }\n    }\n    ```\n\n### 4.3 订单模块\n\n#### 4.3.1 获取订单列表\n\n*   **接口地址**：`/order/list`\n*   **请求方法**：`GET`\n*   **是否需要认证**：是\n*   **请求参数**：\n\n    | 参数名    | 类型   | 必填 | 说明       |\n    | :-------- | :----- | :--- | :--------- |\n    | `status`   | `string` | 否   | 订单状态 (all, pending, completed, cancelled) |\n    | `page`     | `number` | 否   | 页码，默认为1 |\n    | `pageSize` | `number` | 否   | 每页数量，默认为10 |\n\n*   **响应示例**：\n\n    ```json\n    {\n      \"code\": 0,\n      \"message\": \"success\",\n      \"data\": {\n        \"total\": 50,\n        \"list\": [\n          {\n            \"orderId\": \"o001\",\n            \"orderSn\": \"20230101123456\",\n            \"totalAmount\": 199.00,\n            \"status\": \"pending\",\n            \"createTime\": \"2023-01-01 10:00:00\"\n          },\n          {\n            \"orderId\": \"o002\",\n            \"orderSn\": \"20230101123457\",\n            \"totalAmount\": 99.00,\n            \"status\": \"completed\",\n            \"createTime\": \"2023-01-01 11:00:00\"\n          }\n        ]\n      }\n    }\n    ```\n\n#### 4.3.2 获取订单详情\n\n*   **接口地址**：`/order/detail/:orderId`\n*   **请求方法**：`GET`\n*   **是否需要认证**：是\n*   **请求参数**：\n\n    | 参数名    | 类型   | 必填 | 说明       |\n    | :-------- | :----- | :--- | :--------- |\
    | `orderId` | `string` | 是   | 订单ID     |\n\n*   **响应示例**：\n\n    ```json\n    {\n      \"code\": 0,\n      \"message\": \"success\",\n      \"data\": {\n        \"orderId\": \"o001\",\n        \"orderSn\": \"20230101123456\",\n        \"totalAmount\": 199.00,\n        \"status\": \"pending\",\n        \"createTime\": \"2023-01-01 10:00:00\",\n        \"goodsList\": [\n          {\n            \"goodsId\": \"g001\",\n            \"goodsName\": \"商品A\",\n            \"price\": 99.00,\n            \"quantity\": 1\n          },\n          {\n            \"goodsId\": \"g002\",\n            \"goodsName\": \"商品B\",\n            \"price\": 100.00,\n            \"quantity\": 1\n          }\n        ]\n      }\n    }\n    ```\n\n## 5. 错误码\n\n| 错误码 | 说明         |\n| :----- | :----------- |\n| `0`    | 成功         |\n| `10001`| 未认证       |\n| `10002`| 参数错误     |\n| `10003`| 资源不存在   |\n| `10004`| 权限不足     |\n| `99999`| 系统内部错误 |\n\n## 6. 总结\n\n本文档提供了 SutWxApp 微信小程序后端 API 接口的详细说明。开发者应严格遵循接口规范进行开发，并注意错误处理和安全机制。如有疑问，请联系后端开发人员。
