<!--
鏂囦欢鍚? 02-鏋舵瀯璁捐鏂囨。.md
鐗堟湰鍙? 1.0.0
鏇存柊鏃ユ湡: 2025-11-24
浣滆€? Sut
鎻忚堪: 鏋舵瀯璁捐鏂囨。锛岃缁嗚鏄庡皬绋嬪簭鐨勬暣浣撴灦鏋勩€佹妧鏈€夊瀷鍜屾ā鍧楀垝鍒?-->
# 鏋舵瀯璁捐鏂囨。

## 1. 姒傝堪

鏈枃妗ｆ棬鍦ㄦ弿杩?SutWxApp 寰俊灏忕▼搴忕殑鏁翠綋鏋舵瀯璁捐锛屽寘鎷郴缁熷垎灞傘€佹ā鍧楀垝鍒嗐€佹妧鏈€夊瀷浠ュ強涓昏缁勪欢涔嬮棿鐨勪氦浜掑叧绯汇€?
## 2. 绯荤粺鍒嗗眰

SutWxApp 閲囩敤鍏稿瀷鐨勪笁灞傛灦鏋勮璁★細

1.  **琛ㄧ幇灞?(Presentation Layer)**锛氳礋璐ｇ敤鎴风晫闈㈢殑灞曠ず鍜岀敤鎴蜂氦浜掗€昏緫銆備富瑕佸寘鎷皬绋嬪簭椤甸潰 (Pages) 鍜岃嚜瀹氫箟缁勪欢 (Components)銆?2.  **鏈嶅姟灞?(Service Layer)**锛氳礋璐ｄ笟鍔￠€昏緫澶勭悊銆佹暟鎹姹傚拰鏁版嵁澶勭悊銆備富瑕佸寘鎷?`services` 鐩綍涓嬬殑鍚勭鏈嶅姟妯″潡銆?3.  **鏁版嵁灞?(Data Layer)**锛氳礋璐ｆ暟鎹殑瀛樺偍鍜岃幏鍙栥€備富瑕侀€氳繃鏈嶅姟灞傝皟鐢ㄥ悗绔?API 鎴栨湰鍦扮紦瀛樿繘琛屾暟鎹搷浣溿€?
## 3. 妯″潡鍒掑垎

椤圭洰鏍规嵁鍔熻兘鍜岃亴璐ｅ垝鍒嗕负浠ヤ笅涓昏妯″潡锛?
- **`app.js`, `app.json`, `app.wxss`**: 灏忕▼搴忓叆鍙ｆ枃浠讹紝璐熻矗鍏ㄥ眬閰嶇疆銆佹牱寮忓拰鐢熷懡鍛ㄦ湡绠＄悊銆?- **`assets/`**: 闈欐€佽祫婧愮洰褰曪紝瀛樻斁鍥剧墖銆佸瓧浣撶瓑銆?- **`components/`**: 鑷畾涔夌粍浠剁洰褰曪紝瀛樻斁鍙鐢ㄧ殑 UI 缁勪欢锛屽 `lazyImage`銆?- **`images/`**: 鍥剧墖鏂囦欢鐩綍銆?- **`pages/`**: 椤甸潰鐩綍锛屾寜鍔熻兘妯″潡鍒掑垎锛屽 `article` (鏂囩珷), `user` (鐢ㄦ埛), `order` (璁㈠崟) 绛夈€?- **`services/`**: 鏈嶅姟灞傜洰褰曪紝瀛樻斁涓氬姟閫昏緫鍜?API 璋冪敤灏佽锛屽 `userService.js`, `cartService.js`銆?- **`tests/`**: 娴嬭瘯鏂囦欢鐩綍锛屽瓨鏀惧崟鍏冩祴璇曞拰闆嗘垚娴嬭瘯銆?- **`utils/`**: 宸ュ叿绫荤洰褰曪紝瀛樻斁閫氱敤宸ュ叿鍑芥暟鍜岃緟鍔╃被锛屽 `i18n.js`, `cache-service.js`銆?
## 4. 鎶€鏈€夊瀷

- **寮€鍙戞鏋?*锛氬井淇″皬绋嬪簭鍘熺敓妗嗘灦
- **璇█**锛欽avaScript (ES6+)
- **鏍峰紡**锛歐XSS (鍩轰簬 CSS)
- **妯℃澘**锛歐XML (鍩轰簬 XML)
- **鐘舵€佺鐞?*锛氬皬绋嬪簭鍐呯疆 `setData` 鍙婅嚜瀹氫箟鏁版嵁绠＄悊鏂规
- **缃戠粶璇锋眰**锛氬井淇″皬绋嬪簭 `wx.request` API 灏佽
- **鍥介檯鍖?*锛氳嚜瀹氫箟 `i18n.js` 宸ュ叿绫?
## 5. 涓昏缁勪欢浜や簰

### 5.1 椤甸潰涓庢湇鍔″眰

椤甸潰閫氳繃璋冪敤鏈嶅姟灞傜殑鏂规硶鏉ヨ幏鍙栨暟鎹拰鎵ц涓氬姟閫昏緫銆備緥濡傦紝鐢ㄦ埛椤甸潰鍙兘璋冪敤 `userService.js` 鏉ヨ幏鍙栫敤鎴蜂俊鎭€?
```javascript
// pages/user/index.js
import { getUserInfo } from '../../services/userService';

Page({
  data: {
    userInfo: null
  },
  onLoad() {
    getUserInfo().then(res => {
      this.setData({
        userInfo: res.data
      });
    });
  }
});
```

### 5.2 缁勪欢涓庨〉闈?
鑷畾涔夌粍浠堕€氳繃 `properties` 鎺ユ敹鐖堕〉闈紶閫掔殑鏁版嵁锛岄€氳繃 `triggerEvent` 鍚戠埗椤甸潰鍙戦€佷簨浠躲€?
```xml
<!-- components/myComponent/myComponent.wxml -->
<view>
  <text>{{title}}</text>
  <button bindtap="_onTap">鐐瑰嚮</button>
</view>
```

```javascript
// components/myComponent/myComponent.js
Component({
  properties: {
    title: String
  },
  methods: {
    _onTap() {
      this.triggerEvent('myEvent', { value: 'hello' });
    }
  }
});
```

### 5.3 鍥介檯鍖?(i18n)

`i18n.js` 宸ュ叿绫昏礋璐ｇ鐞嗗璇█鏂囨湰銆傞〉闈㈠拰缁勪欢閫氳繃鏁版嵁缁戝畾鎴栫洿鎺ヨ皟鐢?`i18n.translate` 鏂规硶鏉ヨ幏鍙栫炕璇戞枃鏈€?
```xml
<!-- pages/example/example.wxml -->
<text>{{i18n.welcomeMessage}}</text>
```

```javascript
// pages/example/example.js
import { I18n } from '../../utils/i18n';

Page({
  data: {
    i18n: I18n
  },
  onLoad() {
    // ...
  }
});
```

## 6. 鏁版嵁娴?
鐢ㄦ埛鎿嶄綔 -> 琛ㄧ幇灞?(椤甸潰/缁勪欢) -> 鏈嶅姟灞?(涓氬姟閫昏緫/API 璋冪敤) -> 鏁版嵁灞?(鍚庣 API/鏈湴缂撳瓨) -> 鏁版嵁杩斿洖 -> 鏈嶅姟灞傚鐞?-> 琛ㄧ幇灞傛洿鏂?
## 7. 閿欒澶勭悊

椤圭洰閲囩敤缁熶竴鐨勯敊璇鐞嗘満鍒讹紝鏈嶅姟灞傚 API 璇锋眰杩涜灏佽锛屾崟鑾烽敊璇苟杩涜缁熶竴澶勭悊銆傞〉闈㈠拰缁勪欢閫氳繃 `try-catch` 鎹曡幏寮傛鎿嶄綔鐨勯敊璇紝骞跺悜鐢ㄦ埛鎻愪緵鍙嬪ソ鐨勬彁绀恒€?
## 8. 鎬ц兘浼樺寲

*   **鍥剧墖鎳掑姞杞?*锛氶€氳繃 `lazyImage` 缁勪欢瀹炵幇銆?*   **缂撳瓨鏈哄埗**锛氶€氳繃 `cache-service.js` 瀹炵幇鏁版嵁缂撳瓨銆?*   **鑺傛祦涓庨槻鎶?*锛氬湪浜嬩欢澶勭悊涓簲鐢ㄨ妭娴佸拰闃叉姈鎶€鏈€?
## 9. 瀹夊叏鑰冭檻

*   **鏁忔劅淇℃伅淇濇姢**锛氫笉纭紪鐮?API 瀵嗛挜鍜屾晱鎰熶俊鎭€?*   **韬唤璁よ瘉**锛氫娇鐢?Bearer Token 杩涜韬唤璁よ瘉锛孴oken 瀛樺偍鍦ㄦ湰鍦扮紦瀛樹腑銆?*   **HTTPS**锛氭墍鏈夌綉缁滆姹傚己鍒朵娇鐢?HTTPS銆?
## 10. 鎬荤粨

SutWxApp 鐨勬灦鏋勮璁℃棬鍦ㄦ彁渚涗竴涓彲缁存姢銆佸彲鎵╁睍銆侀珮鎬ц兘鍜屽畨鍏ㄧ殑寰俊灏忕▼搴忓簲鐢ㄣ€傞€氳繃娓呮櫚鐨勫垎灞傚拰妯″潡鍒掑垎锛屼互鍙婂悎鐞嗙殑鎶€鏈€夊瀷锛岀‘淇濅簡椤圭洰鐨勯暱鏈熷仴搴峰彂灞曘€?