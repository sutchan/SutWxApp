# 开发环境配置

<!--
文件名: 01-开发环境配置.md
版本号: 1.0.0
更新日期: 2025-11-30
作者: Sut
描述: 开发环境搭建步骤和要求
-->

## 目录

[TOC]

## 1. 概述

### 1.1 文档目的

本文档旨在指导开发者完成SutWxApp项目的开发环境搭建，确保开发环境的一致性和稳定性。

### 1.2 环境要求

| 环境类型 | 版本要求 |
|---------|---------|
| 操作系统 | Windows 10/11, macOS 10.15+, Ubuntu 20.04+ |
| Node.js | 16.0.0+ |
| npm | 8.0.0+ |
| 微信开发者工具 | 稳定版 |
| Git | 2.0.0+ |
| MySQL | 8.0+ |
| Redis | 6.0+ |

## 2. 环境搭建步骤

### 2.1 安装Node.js和npm

1. 访问Node.js官网（https://nodejs.org/）下载并安装Node.js
2. 验证安装是否成功：
   ```bash
   node -v
   npm -v
   ```

### 2.2 安装Git

1. 访问Git官网（https://git-scm.com/）下载并安装Git
2. 配置Git：
   ```bash
   git config --global user.name "Your Name"
   git config --global user.email "your.email@example.com"
   ```

### 2.3 安装微信开发者工具

1. 访问微信开发者工具官网（https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html）下载并安装
2. 登录微信开发者工具，选择小程序项目
3. 导入SutWxApp项目

### 2.4 安装数据库

#### 2.4.1 安装MySQL

1. 访问MySQL官网（https://www.mysql.com/）下载并安装MySQL
2. 配置MySQL，创建数据库和用户：
   ```sql
   CREATE DATABASE sutwxapp DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
   CREATE USER 'sutwxapp'@'localhost' IDENTIFIED BY 'password';
   GRANT ALL PRIVILEGES ON sutwxapp.* TO 'sutwxapp'@'localhost';
   FLUSH PRIVILEGES;
   ```

#### 2.4.2 安装Redis

1. 访问Redis官网（https://redis.io/）下载并安装Redis
2. 启动Redis服务：
   ```bash
   redis-server
   ```

### 2.5 克隆项目仓库

1. 克隆项目仓库：
   ```bash
   git clone https://github.com/sutchan/SutWxApp.git
   ```

2. 进入项目目录：
   ```bash
   cd SutWxApp
   ```

### 2.6 安装项目依赖

1. 安装前端依赖：
   ```bash
   npm install
   ```

2. 安装后端依赖：
   ```bash
   cd server
   npm install
   cd ..
   ```

### 2.7 配置环境变量

1. 配置前端环境变量：
   ```bash
   cp .env.example .env
   # 编辑.env文件，配置API地址等信息
   ```

2. 配置后端环境变量：
   ```bash
   cd server
   cp .env.example .env
   # 编辑.env文件，配置数据库连接等信息
   cd ..
   ```

### 2.8 初始化数据库

1. 运行数据库迁移：
   ```bash
   cd server
   npm run migrate
   cd ..
   ```

2. 运行数据库种子：
   ```bash
   cd server
   npm run seed
   cd ..
   ```

### 2.9 启动开发服务器

1. 启动后端开发服务器：
   ```bash
   npm run server:dev
   ```

2. 启动前端开发服务器：
   ```bash
   npm run dev
   ```

3. 在微信开发者工具中预览项目

## 3. 开发工具推荐

### 3.1 代码编辑器

- VS Code：https://code.visualstudio.com/
- WebStorm：https://www.jetbrains.com/webstorm/

### 3.2 调试工具

- Chrome DevTools
- 微信开发者工具调试面板
- Postman（API测试）：https://www.postman.com/

### 3.3 版本控制工具

- Git
- GitHub Desktop：https://desktop.github.com/

## 4. 常见问题

### 4.1 依赖安装失败

**问题**：npm install命令执行失败

**解决方案**：
1. 清除npm缓存：
   ```bash
   npm cache clean --force
   ```
2. 使用淘宝镜像：
   ```bash
   npm config set registry https://registry.npmmirror.com
   ```
3. 重新安装依赖：
   ```bash
   npm install
   ```

### 4.2 数据库连接失败

**问题**：无法连接到MySQL数据库

**解决方案**：
1. 检查MySQL服务是否正常运行
2. 检查数据库连接配置是否正确
3. 检查数据库用户权限是否正确

### 4.3 Redis连接失败

**问题**：无法连接到Redis

**解决方案**：
1. 检查Redis服务是否正常运行
2. 检查Redis连接配置是否正确

## 5. 相关链接

- [Node.js官网](https://nodejs.org/)
- [Git官网](https://git-scm.com/)
- [微信开发者工具官网](https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html)
- [MySQL官网](https://www.mysql.com/)
- [Redis官网](https://redis.io/)
