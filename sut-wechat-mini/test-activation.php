<?php\n/**\n * SUT寰俊灏忕▼搴忔彃浠舵縺娲绘祴璇曡剼鏈?
 * 鐢ㄤ簬鎺掓煡鎻掍欢婵€娲诲け璐ョ殑鍘熷洜\n */\n\n// 瀹氫箟WordPress甯搁噺\nif ( ! defined( 'ABSPATH' ) ) {\n    define( 'ABSPATH', dirname( dirname( __FILE__ ) ) . '/' );\n}\n\n// 鍔犺浇鎻掍欢涓绘枃浠?
echo "姝ｅ湪鍔犺浇鎻掍欢鏂囦欢...\n";\nrequire_once dirname( __FILE__ ) . '/sut-wechat-mini.php';\n\necho "鎻掍欢鏂囦欢鍔犺浇鎴愬姛\n";\n\necho "\n=== 鐜妫€鏌?===\n";\necho "PHP鐗堟湰: " . phpversion() . " (闇€瑕?>= 7.0)\n";\n\n// 妫€鏌ョ炕璇戞枃浠舵槸鍚﹀瓨鍦?
echo "\n=== 缈昏瘧鏂囦欢妫€鏌?===\n";\n$languages_dir = dirname( __FILE__ ) . '/languages/';\necho "璇█鐩綍: " . $languages_dir . "\n";\n\n$mo_files = glob( $languages_dir . '*.mo' );\n$po_files = glob( $languages_dir . '*.po' );\n\nif ( empty( $mo_files ) ) {\n    echo "璀﹀憡: 鏈壘鍒?mo缂栬瘧缈昏瘧鏂囦欢锛佽繖鍙兘鏄彃浠舵縺娲诲け璐ョ殑涓昏鍘熷洜銆俓n";\n    echo "璇蜂娇鐢╩sgfmt宸ュ叿灏?po鏂囦欢缂栬瘧涓?mo鏂囦欢銆俓n";\n}\n\nif ( ! empty( $po_files ) ) {\n    echo "鎵惧埌浠ヤ笅.po鏂囦欢: \n";\n    foreach ( $po_files as $po_file ) {\n        echo "- " . basename( $po_file ) . "\n";\n    }\n}\n\n// 妫€鏌ユ枃浠舵潈闄?
echo "\n=== 鏂囦欢鏉冮檺妫€鏌?===\n";\n$logs_dir = dirname( __FILE__ ) . '/logs/';\nif ( ! is_dir( $logs_dir ) ) {\n    echo "鏃ュ織鐩綍涓嶅瓨鍦紝灏濊瘯鍒涘缓...\n";\n    if ( wp_mkdir_p( $logs_dir ) ) {\n        echo "鏃ュ織鐩綍鍒涘缓鎴愬姛\n";\n    } else {\n        echo "璀﹀憡: 鏃犳硶鍒涘缓鏃ュ織鐩綍锛屽彲鑳藉鑷存棩蹇楀姛鑳藉紓甯竆n";\n    }\n}\n\n// 妫€鏌ュ姞杞藉櫒绫?
echo "\n=== 鎻掍欢鍔犺浇鍣ㄦ鏌?===\n";\nif ( class_exists( 'SUT_WeChat_Mini_Loader' ) ) {\n    echo "鍔犺浇鍣ㄧ被宸插瓨鍦╘n";\n    try {\n        $loader = sut_wechat_mini();\n        echo "鎴愬姛鑾峰彇鎻掍欢瀹炰緥\n";\n        echo "鎻掍欢鐗堟湰: " . $loader->get_version() . "\n";\n        echo "鎻掍欢鏄惁宸查厤缃? " . ( $loader->is_configured() ? '鏄? : '鍚? ) . "\n";\n    } catch ( Exception $e ) {\n        echo "閿欒: 鑾峰彇鎻掍欢瀹炰緥澶辫触 - " . $e->getMessage() . "\n";\n    }\n} else {\n    echo "閿欒: 鍔犺浇鍣ㄧ被涓嶅瓨鍦╘n";\n}\n\n// 杈撳嚭璋冭瘯淇℃伅\necho "\n=== 璋冭瘯淇℃伅 ===\n";\nif ( function_exists( 'sut_wechat_mini_get_debug_info' ) ) {\n    $debug_info = sut_wechat_mini_get_debug_info();\n    echo "WordPress鐗堟湰: " . $debug_info['status']['wp_version'] . "\n";\n    echo "SSL鐘舵€? " . ( $debug_info['status']['ssl'] ? '宸插惎鐢? : '鏈惎鐢? ) . "\n";\n    echo "鏈嶅姟鍣? " . $debug_info['server']['SERVER_SOFTWARE'] . "\n";\n    echo "PHP鍐呭瓨闄愬埗: " . $debug_info['server']['PHP_MEMORY_LIMIT'] . "\n";\n}\n\nif ( empty( $mo_files ) ) {\n    echo "\n=== 瑙ｅ喅鏂规寤鸿 ===\n";\n    echo "1. 瀹夎gettext宸ュ叿锛堝寘鍚玬sgfmt鍛戒护锛塡n";\n    echo "2. 杩愯浠ヤ笅鍛戒护缂栬瘧缈昏瘧鏂囦欢锛歕n";\n    foreach ( $po_files as $po_file ) {\n        $mo_file = str_replace( '.po', '.mo', $po_file );\n        echo "   msgfmt " . basename( $po_file ) . " -o " . basename( $mo_file ) . "\n";\n    }\n    echo "3. 濡傛灉娌℃湁gettext宸ュ叿锛屽彲浠ヤ娇鐢ㄥ湪绾縋O鍒癕O杞崲宸ュ叿\n";\n    echo "4. 缂栬瘧瀹屾垚鍚庨噸璇曟縺娲绘彃浠禱n";\n}\n