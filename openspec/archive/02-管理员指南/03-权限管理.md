 权限管理

<!--
文件名: 03-权限管理.md
版本号: 1.0.0
更新日期: 2025-11-30
作者: Sut
描述: 权限管理机制和操作指南
-->

## 目录

[TOC]

## 1. 概述

### 1.1 文档目的

本文档旨在介绍SutWxApp项目的权限管理机制和操作指南，帮助系统管理员理解和管理系统权限。

### 1.2 权限管理原则

- 最小权限原则：用户只拥有完成工作所需的最小权限
- 职责分离原则：不同职责的用户拥有不同的权限
- 权限审计原则：所有权限操作都有日志记录
- 定期审查原则：定期审查用户权限，确保权限的合理性

## 2. 权限模型

### 2.1 角色定义

系统定义了以下角色：

| 角色名称 | 描述 |
|---------|------|
| 超级管理员 | 拥有系统所有权限 |
| 管理员 | 拥有系统管理权限，包括用户管理、角色管理等 |
| 开发者 | 拥有开发权限，包括代码提交、测试等 |
| 普通用户 | 拥有基本的使用权限 |

### 2.2 权限分类

权限分为以下几类：
| 权限分类 | 描述 |
|---------|------|
| 系统管理 | 包括用户管理、角色管理、系统配置等 |
| 内容管理 | 包括产品管理、订单管理、内容发布等 |
| 数据分析 | 包括数据统计、报表生成等 |
| 开发权限 | 包括代码提交、测试、部署等 |

### 2.3 权限分配

权限分配遵循以下流程：
1. 创建角色，定义角色的权限
2. 创建用户，将用户分配到相应的角色
3. 用户继承角色的权限

## 3. 权限管理操作

### 3.1 角色管理

#### 3.1.1 创建角色

1. 登录系统管理后台
2. 进入「角色管理」页面
3. 点击「创建角色」按钮
4. 填写角色名称、描述和权限
5. 点击「保存」按钮

#### 3.1.2 编辑角色

1. 登录系统管理后台
2. 进入「角色管理」页面
3. 找到要编辑的角色，点击「编辑」按钮
4. 修改角色名称、描述和权限
5. 点击「保存」按钮

#### 3.1.3 删除角色

1. 登录系统管理后台
2. 进入「角色管理」页面
3. 找到要删除的角色，点击「删除」按钮
4. 确认删除操作

### 3.2 用户管理

#### 3.2.1 创建用户

1. 登录系统管理后台
2. 进入「用户管理」页面
3. 点击「创建用户」按钮
4. 填写用户信息，包括用户名、密码、邮箱等
5. 选择用户角色
6. 点击「保存」按钮

#### 3.2.2 编辑用户

1. 登录系统管理后台
2. 进入「用户管理」页面
3. 找到要编辑的用户，点击「编辑」按钮
4. 修改用户信息和角色
5. 点击「保存」按钮

#### 3.2.3 删除用户

1. 登录系统管理后台
2. 进入「用户管理」页面
3. 找到要删除的用户，点击「删除」按钮
4. 确认删除操作

#### 3.2.4 重置密码

1. 登录系统管理后台
2. 进入「用户管理」页面
3. 找到要重置密码的用户，点击「重置密码」按钮
4. 输入新密码
5. 点击「保存」按钮

## 4. 权限审计

### 4.1 日志记录

系统会记录所有与权限相关的操作，包括：

- 用户登录/退出
- 角色创建/编辑/删除
- 用户创建/编辑/删除
- 权限分配/修改

### 4.2 日志查询

1. 登录系统管理后台
2. 进入「日志管理」页面
3. 选择查询条件，包括时间范围、操作类型、用户等
4. 点击「查询」按钮
5. 查看查询结果

## 5. 常见问题

### 5.1 用户权限不足

**问题**：用户无法执行某些操作，提示权限不足

**解决方案**：
1. 检查用户所属角色
2. 检查角色的权限设置
3. 如果权限设置不正确，修改角色权限或调整用户角色

### 5.2 角色权限冲突

**问题**：用户拥有多个角色，权限存在冲突

**解决方案**：
1. 检查用户所属的所有角色
2. 调整角色权限，避免权限冲突
3. 考虑重新设计角色，确保权限的合理性

### 5.3 忘记管理员密码

**问题**：管理员忘记密码，无法登录系统
**解决方案**：
1. 使用超级管理员账户登录
2. 重置管理员密码
3. 如果没有超级管理员账户，需要通过数据库直接修改密码

## 6. 相关链接

- [环境搭建.md](./01-环境搭建.md)
- [系统配置.md](./02-系统配置.md)