# 苏铁Flutter多平台发布材料

## 一、应用基本信息

### 1.1 应用名称
- **应用名称**：苏铁
- **英文名称**：Sut
- **应用包名**：com.sut.wxapp
- **应用版本**：1.0.0

### 1.2 应用描述
苏铁是一款面向植物爱好者的Flutter跨平台电商应用，主营精品植物、园艺用品、花卉盆栽等商品。应用提供用户注册登录、商品浏览、购物车管理、订单处理、积分系统、社交分享等核心功能，支持Android和iOS双平台。

### 1.3 功能介绍
1. **用户系统**：支持微信授权登录、手机号登录，提供用户信息管理、收货地址管理功能
2. **商品展示**：支持商品搜索、分类浏览、详情查看、产品图片多图展示
3. **购物车**：支持商品添加、数量修改、全选结算、删除商品等功能
4. **订单系统**：支持订单创建、状态跟踪、历史订单查询
5. **积分系统**：支持积分获取、使用、兑换功能，购物可获积分
6. **社交功能**：支持商品分享、评论、点赞功能

## 二、Android平台发布

### 2.1 发布前检查

#### 2.1.1 应用配置检查
- [ ] 应用包名正确配置（com.sut.wxapp）
- [ ] 应用版本号已更新（versionName: 1.0.0）
- [ ] 应用版本码已更新（versionCode: 1）
- [ ] 应用图标已配置
- [ ] 应用启动图已配置
- [ ] 应用权限已正确声明

#### 2.1.2 AndroidManifest.xml配置
```xml
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.sut.wxapp">
    
    <!-- 权限声明 -->
    <uses-permission android:name="android.permission.INTERNET"/>
    <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE"/>
    
    <application
        android:label="苏铁"
        android:name="${applicationName}"
        android:icon="@mipmap/ic_launcher">
        <activity
            android:name=".MainActivity"
            android:exported="true">
            <intent-filter>
                <action android:name="android.intent.action.MAIN"/>
                <category android:name="android.intent.category.LAUNCHER"/>
            </intent-filter>
        </activity>
    </application>
</manifest>
```

### 2.2 构建配置

#### 2.2.1 Android build.gradle配置
```groovy
android {
    namespace "com.sut.wxapp"
    compileSdk 34
    ndkVersion "25.2.9519653"

    compileOptions {
        sourceCompatibility JavaVersion.VERSION_1_8
        targetCompatibility JavaVersion.VERSION_1_8
    }

    kotlinOptions {
        jvmTarget = '1.8'
    }

    buildTypes {
        release {
            signingConfig signingConfigs.debug
            minifyEnabled true
            shrinkResources true
            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'
        }
        debug {
            debuggable true
        }
    }

    defaultConfig {
        applicationId "com.sut.wxapp"
        minSdk 21
        targetSdk 34
        versionCode 1
        versionName "1.0.0"
    }

    buildFeatures {
        buildConfig true
    }
}
```

### 2.3 签名配置

#### 2.3.1 生成签名密钥
```bash
keytool -genkey -v -keystore sut-release-key.jks -keyalg RSA -keysize 2048 -validity 10000 -alias sut-key
```

#### 2.3.2 配置签名信息
将签名密钥文件放置在 `android/app/sut-release-key.jsk`，并在 `android/key.properties` 中配置：
```properties
storePassword=your_store_password
keyPassword=your_key_password
keyAlias=sut-key
storeFile=./app/sut-release-key.jks
```

### 2.4 Google Play商店提交

#### 2.4.1 应用商店素材
- **应用图标**：512x512 PNG格式
- **功能截图**：至少2张（手机截图）
- **宣传图**：1024x500 PNG格式
- **应用描述**：最多4000字符
- **简短描述**：最多80字符
- **隐私政策链接**：[请填写隐私政策URL]

#### 2.4.2 商店 listing要求
- **分类**：购物
- **内容分级**：3+
- **目标受众**：所有年龄段
- **价格**：免费（含应用内购买）

## 三、iOS平台发布

### 3.1 发布前检查

#### 3.1.1 应用配置检查
- [ ] Bundle Identifier正确配置（com.sut.wxapp）
- [ ] 应用版本号已更新（CFBundleShortVersionString: 1.0.0）
- [ ] 应用构建号已更新（CFBundleVersion: 1）
- [ ] 应用图标已配置（AppIcon）
- [ ] 启动画面已配置（LaunchScreen）
- [ ] 隐私权限已正确声明

#### 3.1.2 Info.plist配置
```xml
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
    <key>CFBundleDevelopmentRegion</key>
    <string>zh_CN</string>
    <key>CFBundleDisplayName</key>
    <string>苏铁</string>
    <key>CFBundleExecutable</key>
    <string>$(EXECUTABLE_NAME)</string>
    <key>CFBundleIdentifier</key>
    <string>$(PRODUCT_BUNDLE_IDENTIFIER)</string>
    <key>CFBundleInfoDictionaryVersion</key>
    <string>6.0</string>
    <key>CFBundleName</key>
    <string>苏铁</string>
    <key>CFBundlePackageType</key>
    <string>APPL</string>
    <key>CFBundleShortVersionString</key>
    <string>1.0.0</string>
    <key>CFBundleVersion</key>
    <string>1</string>
    <key>LSRequiresIPhoneOS</key>
    <true/>
    <key>UILaunchStoryboardName</key>
    <string>LaunchScreen</string>
    <key>UIMainStoryboardFile</key>
    <string>Main</string>
    <key>UISupportedInterfaceOrientations</key>
    <array>
        <string>UIInterfaceOrientationPortrait</string>
    </array>
    <key>UISupportedInterfaceOrientations~ipad</key>
    <array>
        <string>UIInterfaceOrientationPortrait</string>
        <string>UIInterfaceOrientationPortraitUpsideDown</string>
        <string>UIInterfaceOrientationLandscapeLeft</string>
        <string>UIInterfaceOrientationLandscapeRight</string>
    </array>
    <key>NSAppTransportSecurity</key>
    <dict>
        <key>NSAllowsArbitraryLoads</key>
        <true/>
    </dict>
</dict>
</plist>
```

### 3.2 Apple Developer配置

#### 3.2.1 创建App ID
- **Bundle ID**：com.sut.wxapp
- **App Services**：需要启用以下服务
  - [x] Push Notifications
  - [x] Associated Domains

#### 3.2.2 创建发布证书
1. 登录Apple Developer Center
2. 进入Certificates, Identifiers & Profiles
3. 创建iOS Distribution Certificate
4. 创建App Store Provisioning Profile

### 3.3 App Store提交

#### 3.3.1 App Store素材
- **应用图标**：1024x1024 PNG格式
- **应用截图**：
  - 6.5英寸（1284x2778）：至少3张
  - 5.5英寸（1242x2208）：至少3张
- **应用预览视频**：可选，最长30秒
- **应用描述**：最多4000字符
- **关键词**：最多100字符
- **技术支持URL**：[请填写技术支持URL]
- **隐私政策URL**：[请填写隐私政策URL]

#### 3.3.2 App信息配置
- **应用名称**：苏铁
- **副标题**：植物爱好者首选电商平台
- **类别**：购物
- **价格**：免费
- **年龄分级**：4+

## 四、版本管理

### 4.1 版本号规范
- **主版本号（Major）**：重大功能更新或架构变更
- **次版本号（Minor）**：功能新增或重要优化
- **修订号（Patch）**：Bug修复或小幅优化

### 4.2 版本历史记录

| 版本号 | 版本日期 | 更新内容 | 状态 |
|-------|---------|---------|------|
| 1.0.0 | 2025-12-28 | 首次发布，完成核心功能 | 开发完成 |

## 五、测试清单

### 5.1 Android测试清单
- [ ] 不同Android版本测试（Android 7.0-14.0）
- [ ] 不同品牌手机测试（华为、小米、OPPO、VIVO、三星）
- [ ] 不同屏幕尺寸测试
- [ ] 网络环境测试（4G、5G、WiFi）
- [ ] 性能测试（启动时间、内存占用）
- [ ] 稳定性测试（长时间运行）

### 5.2 iOS测试清单
- [ ] 不同iOS版本测试（iOS 12.0-17.0）
- [ ] 不同iPhone机型测试（iPhone 11-15系列）
- [ ] iPad兼容性测试
- [ ] 网络环境测试
- [ ] 性能测试
- [ ] 稳定性测试

## 六、发布流程

### 6.1 Flutter打包命令

#### 6.1.1 Android打包
```bash
# Debug版本
flutter build apk --debug

# Release版本
flutter build apk --release

# App Bundle（推荐用于Google Play）
flutter build appbundle --release
```

#### 6.1.2 iOS打包
```bash
# Debug版本
flutter build ios --debug

# Release版本
flutter build ios --release

# 归档并上传App Store
flutter build ipa --release
```

### 6.2 发布检查清单

#### 6.2.1 Android发布前
- [ ] 确认版本号和构建号
- [ ] 执行flutter clean
- [ ] 执行flutter pub get
- [ ] 运行flutter test
- [ ] 执行ESLint检查
- [ ] 生成Release签名APK
- [ ] 测试Release版本功能
- [ ] 准备应用商店素材
- [ ] 编写更新日志

#### 6.2.2 iOS发布前
- [ ] 确认版本号和构建号
- [ ] 执行flutter clean
- [ ] 执行flutter pub get
- [ ] 运行flutter test
- [ ] 配置Xcode签名
- [ ] 执行Product -> Archive
- [ ] 验证归档包
- [ ] 上传App Store Connect
- [ ] 填写应用商店信息

### 6.3 提交审核

#### 6.3.1 Google Play提交
1. 登录Google Play Console
2. 创建新应用
3. 上传APK/AAB文件
4. 填写应用信息
5. 上传截图和素材
6. 设置价格和分发
7. 提交审核

#### 6.3.2 App Store提交
1. 登录App Store Connect
2. 创建新应用
3. 上传构建版本
4. 填写应用信息
5. 上传截图和素材
6. 设置年龄分级
7. 提交审核

## 七、后续维护

### 7.1 监控指标
- **崩溃率**：目标<1%
- **ANR率**：目标<0.1%
- **启动时间**：目标<3秒
- **用户评分**：目标>4.0分

### 7.2 反馈处理
- **应用商店评论**：每日监控和回复
- **用户反馈**：48小时内响应
- **Bug报告**：紧急Bug 24小时内响应

---

**文档编制**：Sut  
**编制日期**：2025年12月28日  
**版本号**：1.0.0
