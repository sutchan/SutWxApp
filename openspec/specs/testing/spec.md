# 测试规范

## 目的
本规范定义了苏铁微信小程序（SutWxApp）项目的测试指南和测试用例，包括功能测试、性能测试、兼容性测试、回归测试和安全测试，以确保项目符合质量要求。

## 要求

### 要求：测试覆盖率
系统应通过全面的测试用例进行测试，覆盖所有主要功能模块。

#### 场景：模块覆盖
- **当**设计测试用例时
- **则**它们应覆盖用户管理、商品管理、购物车、订单管理和积分系统模块

### 要求：测试环境
系统应在各种环境中进行测试，包括不同的设备、操作系统和软件版本。

#### 场景：硬件环境
- **当**设置测试环境时
- **则**它应包括高性能、中端和低端手机，以及用于后端API测试的测试服务器

#### 场景：软件环境
- **当**选择测试工具时
- **则**它们应包括微信开发者工具、Postman、JMeter、WeTest和Appium

### 要求：功能测试
系统应对所有面向用户的功能进行全面的功能测试。

#### 场景：用户管理测试
- **当**测试用户管理功能时
- **则**测试人员应验证注册、登录和个人信息管理

#### 场景：商品管理测试
- **当**测试商品管理功能时
- **则**测试人员应验证商品列表、筛选、搜索和详情查看功能

#### 场景：购物车测试
- **当**测试购物车功能时
- **则**测试人员应验证添加商品、修改数量、删除商品和清空购物车

#### 场景：订单管理测试
- **当**测试订单管理功能时
- **则**测试人员应验证订单创建、支付和订单状态跟踪

#### 场景：积分系统测试
- **当**测试积分系统时
- **则**测试人员应验证积分获取和兑换功能

### 要求：性能测试
系统应进行性能测试，以确保它满足响应时间和并发要求。

#### 场景：页面加载性能
- **当**测试页面加载时间时
- **则**测试人员应验证首页加载时间在2秒以内，商品列表在1.5秒以内，商品详情在1秒以内

#### 场景：并发性能
- **当**测试并发用户时
- **则**测试人员应验证系统能够处理100个并发登录，平均响应时间在2秒以内，50个并发订单，平均响应时间在3秒以内

### 要求：兼容性测试
系统应针对不同设备、屏幕尺寸和微信版本进行兼容性测试。

#### 场景：设备兼容性
- **当**测试设备兼容性时
- **则**测试人员应验证系统在iPhone、Android旗舰机、中端机和低端机上都能正常工作

#### 场景：屏幕尺寸兼容性
- **当**测试屏幕尺寸兼容性时
- **则**测试人员应验证系统能够适应不同的屏幕尺寸

#### 场景：微信版本兼容性
- **当**测试微信版本兼容性时
- **则**测试人员应验证系统在最新微信版本和前3个版本上都能正常工作

### 要求：回归测试
系统应进行回归测试，以确保更改不会破坏现有功能。

#### 场景：核心功能回归
- **当**执行回归测试时
- **则**测试人员应验证核心功能，包括登录、商品浏览、购物车和订单下单继续正常工作

### 要求：安全测试
系统应进行安全测试，以保护用户数据并防止未经授权的访问。

#### 场景：数据安全
- **当**测试数据安全时
- **则**测试人员应验证传输过程中的密码加密和敏感用户信息保护

#### 场景：访问控制
- **当**测试访问控制时
- **则**测试人员应验证未认证用户被重定向到登录页面，普通用户无法访问管理员功能

## 测试用例

### 1. 功能测试用例

#### 1.1 用户管理模块

##### 1.1.1 注册功能

| 测试用例ID | 测试用例名称 | 测试步骤 | 预期结果 |
|------------|--------------|----------|----------|
| UC-001 | 手机号注册 | 1. 打开小程序<br>2. 点击"注册"按钮<br>3. 输入手机号<br>4. 获取验证码<br>5. 输入验证码<br>6. 设置密码<br>7. 点击"注册"按钮 | 注册成功，跳转至登录页 |
| UC-002 | 微信授权登录 | 1. 打开小程序<br>2. 点击"微信登录"按钮<br>3. 确认微信授权 | 登录成功，跳转至首页 |
| UC-003 | 密码找回 | 1. 打开登录页<br>2. 点击"忘记密码"<br>3. 输入手机号<br>4. 获取验证码<br>5. 输入验证码<br>6. 设置新密码<br>7. 点击"确认"按钮 | 密码重置成功，跳转至登录页 |

##### 1.1.2 登录功能

| 测试用例ID | 测试用例名称 | 测试步骤 | 预期结果 |
|------------|--------------|----------|----------|
| UC-004 | 手机号密码登录 | 1. 打开小程序<br>2. 输入手机号和密码<br>3. 点击"登录"按钮 | 登录成功，跳转至首页 |
| UC-005 | 微信授权登录 | 1. 打开小程序<br>2. 点击"微信登录"按钮<br>3. 确认微信授权 | 登录成功，跳转至首页 |
| UC-006 | 错误密码登录 | 1. 打开小程序<br>2. 输入正确手机号和错误密码<br>3. 点击"登录"按钮 | 提示"密码错误" |

##### 1.1.3 个人信息管理

| 测试用例ID | 测试用例名称 | 测试步骤 | 预期结果 |
|------------|--------------|----------|----------|
| UC-007 | 修改昵称 | 1. 登录小程序<br>2. 进入"我的"页面<br>3. 点击"个人信息"<br>4. 修改昵称<br>5. 保存更改 | 昵称修改成功 |
| UC-008 | 修改头像 | 1. 登录小程序<br>2. 进入"我的"页面<br>3. 点击"个人信息"<br>4. 修改头像<br>5. 保存更改 | 头像修改成功 |
| UC-009 | 地址管理 | 1. 登录小程序<br>2. 进入"我的"页面<br>3. 点击"地址管理"<br>4. 点击"添加地址"<br>5. 填写地址信息<br>6. 保存地址 | 地址添加成功 |

#### 1.2 商品管理模块

##### 1.2.1 商品列表

| 测试用例ID | 测试用例名称 | 测试步骤 | 预期结果 |
|------------|--------------|----------|----------|
| PM-001 | 商品列表显示 | 1. 打开小程序<br>2. 进入商品列表页 | 商品列表显示正常，包括商品图片、名称、价格等 |
| PM-002 | 商品分类筛选 | 1. 打开小程序<br>2. 进入商品列表页<br>3. 选择商品分类 | 只显示所选分类的商品 |
| PM-003 | 商品搜索 | 1. 打开小程序<br>2. 进入商品列表页<br>3. 在搜索框输入商品名称<br>4. 点击搜索按钮 | 显示匹配搜索条件的商品 |

##### 1.2.2 商品详情

| 测试用例ID | 测试用例名称 | 测试步骤 | 预期结果 |
|------------|--------------|----------|----------|
| PM-004 | 商品详情显示 | 1. 打开小程序<br>2. 进入商品列表页<br>3. 点击任意商品 | 商品详情页显示正常，包括商品图片、名称、价格、描述等 |
| PM-005 | 商品图片预览 | 1. 打开小程序<br>2. 进入商品详情页<br>3. 点击商品图片 | 可预览商品大图，支持左右滑动切换图片 |

#### 1.3 购物车模块

##### 1.3.1 购物车操作

| 测试用例ID | 测试用例名称 | 测试步骤 | 预期结果 |
|------------|--------------|----------|----------|
| SC-001 | 添加商品到购物车 | 1. 打开小程序<br>2. 进入商品详情页<br>3. 点击"加入购物车"按钮 | 商品成功加入购物车，购物车数量更新 |
| SC-002 | 修改购物车商品数量 | 1. 登录小程序<br>2. 进入购物车页<br>3. 点击商品数量增减按钮 | 商品数量更新成功，总价相应更新 |
| SC-003 | 删除购物车商品 | 1. 登录小程序<br>2. 进入购物车页<br>3. 点击商品删除按钮<br>4. 确认删除 | 商品从购物车移除，购物车数量更新 |
| SC-004 | 清空购物车 | 1. 登录小程序<br>2. 进入购物车页<br>3. 点击"清空购物车"按钮<br>4. 确认清空 | 购物车清空，购物车数量更新为0 |

#### 1.4 订单管理模块

##### 1.4.1 订单创建

| 测试用例ID | 测试用例名称 | 测试步骤 | 预期结果 |
|------------|--------------|----------|----------|
| OM-001 | 从购物车创建订单 | 1. 登录小程序<br>2. 进入购物车页<br>3. 选择商品<br>4. 点击"去结算"按钮<br>5. 选择地址<br>6. 选择支付方式<br>7. 点击"提交订单"按钮 | 订单创建成功，跳转至支付页 |
| OM-002 | 从商品详情创建订单 | 1. 登录小程序<br>2. 进入商品详情页<br>3. 点击"立即购买"按钮<br>4. 选择规格和数量<br>5. 点击"确认"按钮<br>6. 选择地址<br>7. 选择支付方式<br>8. 点击"提交订单"按钮 | 订单创建成功，跳转至支付页 |

##### 1.4.2 订单支付

| 测试用例ID | 测试用例名称 | 测试步骤 | 预期结果 |
|------------|--------------|----------|----------|
| OM-003 | 微信支付 | 1. 进入支付页<br>2. 点击"微信支付"按钮<br>3. 确认支付 | 支付成功，跳转至订单详情页，订单状态更新为"已支付" |

##### 1.4.3 订单查询

| 测试用例ID | 测试用例名称 | 测试步骤 | 预期结果 |
|------------|--------------|----------|----------|
| OM-004 | 全部订单查询 | 1. 登录小程序<br>2. 进入"我的"页面<br>3. 点击"我的订单"<br>4. 选择"全部" | 显示所有订单 |
| OM-005 | 待付款订单查询 | 1. 登录小程序<br>2. 进入"我的"页面<br>3. 点击"我的订单"<br>4. 选择"待付款" | 只显示待付款订单 |
| OM-006 | 待发货订单查询 | 1. 登录小程序<br>2. 进入"我的"页面<br>3. 点击"我的订单"<br>4. 选择"待发货" | 只显示待发货订单 |
| OM-007 | 待收货订单查询 | 1. 登录小程序<br>2. 进入"我的"页面<br>3. 点击"我的订单"<br>4. 选择"待收货" | 只显示待收货订单 |
| OM-008 | 已完成订单查询 | 1. 登录小程序<br>2. 进入"我的"页面<br>3. 点击"我的订单"<br>4. 选择"已完成" | 只显示已完成订单 |

#### 1.5 积分系统模块

##### 1.5.1 积分获取

| 测试用例ID | 测试用例名称 | 测试步骤 | 预期结果 |
|------------|--------------|----------|----------|
| IM-001 | 注册积分 | 1. 新用户注册<br>2. 登录小程序<br>3. 进入"我的"页面<br>4. 查看积分 | 获得注册积分，积分数量增加 |
| IM-002 | 购物积分 | 1. 登录小程序<br>2. 购买商品<br>3. 完成支付<br>4. 查看积分 | 获得购物积分，积分数量增加 |

##### 1.5.2 积分使用

| 测试用例ID | 测试用例名称 | 测试步骤 | 预期结果 |
|------------|--------------|----------|----------|
| IM-003 | 积分兑换商品 | 1. 登录小程序<br>2. 进入积分商城<br>3. 选择可兑换商品<br>4. 点击"兑换"按钮<br>5. 确认兑换 | 商品兑换成功，积分数量减少 |
| IM-004 | 积分抵扣现金 | 1. 登录小程序<br>2. 购买商品<br>3. 进入结算页<br>4. 选择积分抵扣<br>5. 完成支付 | 支付金额减少，积分数量减少 |

### 2. 性能测试用例

#### 2.1 页面加载性能

| 测试用例ID | 测试用例名称 | 测试步骤 | 预期结果 |
|------------|--------------|----------|----------|
| PT-001 | 首页加载时间 | 1. 打开小程序<br>2. 记录首页加载时间 | 首页加载时间不超过2秒 |
| PT-002 | 商品列表加载时间 | 1. 打开小程序<br>2. 进入商品列表页<br>3. 记录加载时间 | 商品列表加载时间不超过1.5秒 |
| PT-003 | 商品详情加载时间 | 1. 打开小程序<br>2. 进入商品详情页<br>3. 记录加载时间 | 商品详情加载时间不超过1秒 |

#### 2.2 并发性能

| 测试用例ID | 测试用例名称 | 测试步骤 | 预期结果 |
|------------|--------------|----------|----------|
| PT-004 | 100并发用户登录 | 1. 使用JMeter创建100个并发用户<br>2. 模拟登录请求<br>3. 记录响应时间和成功率 | 平均响应时间不超过2秒，成功率100% |
| PT-005 | 50并发用户下单 | 1. 使用JMeter创建50个并发用户<br>2. 模拟订单请求<br>3. 记录响应时间和成功率 | 平均响应时间不超过3秒，成功率100% |

### 3. 兼容性测试用例

#### 3.1 设备兼容性

| 测试用例ID | 测试用例名称 | 测试步骤 | 预期结果 |
|------------|--------------|----------|----------|
| CT-001 | iPhone设备兼容性 | 1. 在不同iPhone型号上打开小程序<br>2. 测试主要功能 | 所有功能正常工作，界面显示正确 |
| CT-002 | Android设备兼容性 | 1. 在不同Android手机型号上打开小程序<br>2. 测试主要功能 | 所有功能正常工作，界面显示正确 |
| CT-003 | 不同屏幕尺寸兼容性 | 1. 在不同屏幕尺寸的设备上打开小程序<br>2. 测试主要功能 | 所有功能正常工作，界面适应不同屏幕尺寸 |

#### 3.2 微信版本兼容性

| 测试用例ID | 测试用例名称 | 测试步骤 | 预期结果 |
|------------|--------------|----------|----------|
| CT-004 | 最新微信版本兼容性 | 1. 在最新微信版本上打开小程序<br>2. 测试主要功能 | 所有功能正常工作 |
| CT-005 | 旧版微信版本兼容性 | 1. 在旧版微信版本（前3个版本）上打开小程序<br>2. 测试主要功能 | 所有功能正常工作 |

### 4. 回归测试用例

#### 4.1 核心功能回归测试

| 测试用例ID | 测试用例名称 | 测试步骤 | 预期结果 |
|------------|--------------|----------|----------|
| RT-001 | 用户登录回归测试 | 1. 打开小程序<br>2. 测试手机号登录<br>3. 测试微信登录 | 登录功能正常工作 |
| RT-002 | 商品浏览回归测试 | 1. 打开小程序<br>2. 浏览商品列表<br>3. 查看商品详情 | 商品浏览功能正常工作 |
| RT-003 | 购物车回归测试 | 1. 登录小程序<br>2. 添加商品到购物车<br>3. 修改购物车商品数量<br>4. 删除购物车商品 | 购物车功能正常工作 |
| RT-004 | 订单下单和支付回归测试 | 1. 登录小程序<br>2. 创建订单<br>3. 完成支付 | 订单下单和支付功能正常工作 |

### 5. 安全测试用例

#### 5.1 数据安全

| 测试用例ID | 测试用例名称 | 测试步骤 | 预期结果 |
|------------|--------------|----------|----------|
| ST-001 | 密码加密传输 | 1. 使用抓包工具捕获登录请求<br>2. 检查密码字段 | 密码字段在传输过程中已加密 |
| ST-002 | 用户信息保护 | 1. 登录小程序<br>2. 检查网络请求<br>3. 检查敏感用户信息 | 敏感用户信息未泄露 |

#### 5.2 访问控制

| 测试用例ID | 测试用例名称 | 测试步骤 | 预期结果 |
|------------|--------------|----------|----------|
| ST-003 | 未认证用户访问限制 | 1. 在未认证状态下打开小程序<br>2. 尝试访问需要登录的页面 | 重定向至登录页面 |
| ST-004 | 管理员权限控制 | 1. 使用普通用户账户登录<br>2. 尝试访问管理员功能 | 无法访问管理员功能 |

## 测试结果统计

### 5.1 测试用例执行状态

| 测试类型 | 总测试用例数 | 已执行 | 通过 | 失败 | 通过率 |
|----------|--------------|--------|------|------|--------|
| 功能测试 | 28 | | | | |
| 性能测试 | 5 | | | | |
| 兼容性测试 | 5 | | | | |
| 回归测试 | 4 | | | | |
| 安全测试 | 4 | | | | |
| **总计** | **46** | | | | |

### 5.2 缺陷统计

| 缺陷严重程度 | 缺陷数量 | 已修复 | 未修复 | 修复率 |
|--------------|----------|--------|--------|--------|
| 严重 | | | | |
| 主要 | | | | |
| 中等 | | | | |
| 次要 | | | | |
| **总计** | | | | |

## 测试结论

### 6.1 测试总结

本文档为苏铁微信小程序（SutWxApp）项目提供了详细的测试用例，涵盖了功能测试、性能测试、兼容性测试、回归测试和安全测试。通过执行这些测试用例，可以确保项目质量符合要求。

### 6.2 建议

1. 定期更新测试用例，包括新功能和场景
2. 自动化重复性测试用例，提高测试效率
3. 加强性能测试，确保系统在高并发下的稳定性
4. 增强安全测试，保护用户数据安全
5. 定期进行回归测试，确保更改不会引入新问题

## 版本历史

| 版本 | 更新日期 | 更新内容 | 作者 |
|------|----------|----------|------|
| 1.0.0 | 2025-11-30 | 初始版本 | Sut |